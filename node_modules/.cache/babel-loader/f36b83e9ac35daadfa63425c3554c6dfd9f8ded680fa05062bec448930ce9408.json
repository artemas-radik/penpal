{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx\",\n  _s = $RefreshSig$();\nimport \"./style.css\";\nimport { useState } from \"react\";\nimport Request from \"../Request/index.jsx\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Snippet = props => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const [editedSnippetTitle, setEditedSnippetTitle] = useState(props.snippet.title);\n  const [editedSnippetText, setEditedSnippetText] = useState(props.snippet.text);\n  const [isConfirmingDelete, setIsConfirmingDelete] = useState(false);\n  const deleteSnippet = e => {\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/\", {\n      method: \"DELETE\"\n    });\n    snippetsRequest.then(res => {\n      const newSnippets = [...props.snippets];\n      newSnippets.splice(props.index, 1);\n      props.setSnippets(newSnippets);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const handleSnippetSubmit = e => {\n    e.preventDefault();\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/edit/\", {\n      method: \"POST\",\n      data: {\n        title: editedSnippetTitle,\n        text: editedSnippetText\n      }\n    });\n    snippetsRequest.then(res => {\n      props.setSnippets(props.snippets.map(snippet => {\n        if (snippet.id === props.snippet.id) {\n          snippet.title = editedSnippetTitle;\n          snippet.text = editedSnippetText;\n          return snippet;\n        }\n        return snippet;\n      }));\n      handleClose();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"snippet\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"snippet-header\",\n      children: [open ? /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"snippet-title-edit\",\n        id: \"snippet-title-edit\",\n        value: editedSnippetTitle,\n        onChange: e => setEditedSnippetTitle(e.target.value),\n        autoFocus: true,\n        onFocus: function (e) {\n          var val = e.target.value;\n          e.target.value = \"\";\n          e.target.value = val;\n        },\n        placeholder: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"snippet-title\",\n        children: props.snippet.title ? props.snippet.title : \"Untitled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-pencil edit-icon\",\n          onClick: handleOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this), isConfirmingDelete ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"confirm-delete\",\n            onClick: e => deleteSnippet(e),\n            children: \"confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" / \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"confirm-delete-cancel\",\n            onClick: e => setIsConfirmingDelete(false),\n            children: \"cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-trash delete-icon\",\n          onClick: e => setIsConfirmingDelete(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), open ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"snippet-text-edit-container\",\n      onSubmit: handleSnippetSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextareaAutosize, {\n        className: \"snippet-text-edit-area\",\n        id: \"snippet-text-edit-area\",\n        value: editedSnippetText,\n        onChange: e => setEditedSnippetText(e.target.value),\n        autoFocus: true,\n        onFocus: function (e) {\n          var val = e.target.value;\n          e.target.value = \"\";\n          e.target.value = val;\n        },\n        placeholder: \"Body\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"snippet-text-edit-done-button\",\n        type: \"submit\",\n        children: \"Done\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"snippet-text\",\n      children: props.snippet.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }, this)]\n  }, props.index, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n};\n_s(Snippet, \"hKnbjzllFCbg4wT66tcsMmO1qDk=\");\n_c = Snippet;\nexport default Snippet;\nvar _c;\n$RefreshReg$(_c, \"Snippet\");","map":{"version":3,"names":["useState","Request","TextareaAutosize","Snippet","props","open","setOpen","handleOpen","handleClose","editedSnippetTitle","setEditedSnippetTitle","snippet","title","editedSnippetText","setEditedSnippetText","text","isConfirmingDelete","setIsConfirmingDelete","deleteSnippet","e","snippetsRequest","id","method","then","res","newSnippets","snippets","splice","index","setSnippets","catch","err","console","log","handleSnippetSubmit","preventDefault","data","map","target","value","val"],"sources":["/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx"],"sourcesContent":["import \"./style.css\"\nimport { useState } from \"react\"\nimport Request from \"../Request/index.jsx\"\nimport TextareaAutosize from \"react-textarea-autosize\"\n\nconst Snippet = (props) => {\n\tconst [open, setOpen] = useState(false)\n\tconst handleOpen = () => setOpen(true)\n\tconst handleClose = () => setOpen(false)\n\tconst [editedSnippetTitle, setEditedSnippetTitle] = useState(\n\t\tprops.snippet.title\n\t)\n\tconst [editedSnippetText, setEditedSnippetText] = useState(props.snippet.text)\n\tconst [isConfirmingDelete, setIsConfirmingDelete] = useState(false)\n\n\tconst deleteSnippet = (e) => {\n\t\tconst snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/\", {\n\t\t\tmethod: \"DELETE\",\n\t\t})\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newSnippets = [...props.snippets]\n\t\t\t\tnewSnippets.splice(props.index, 1)\n\t\t\t\tprops.setSnippets(newSnippets)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst handleSnippetSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tconst snippetsRequest = new Request(\n\t\t\t\"snippets/\" + props.snippet.id + \"/edit/\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: { title: editedSnippetTitle, text: editedSnippetText },\n\t\t\t}\n\t\t)\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tprops.setSnippets(\n\t\t\t\t\tprops.snippets.map((snippet) => {\n\t\t\t\t\t\tif (snippet.id === props.snippet.id) {\n\t\t\t\t\t\t\tsnippet.title = editedSnippetTitle\n\t\t\t\t\t\t\tsnippet.text = editedSnippetText\n\t\t\t\t\t\t\treturn snippet\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn snippet\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\thandleClose()\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className='snippet' key={props.index}>\n\t\t\t<div className='snippet-header'>\n\t\t\t\t{open ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='snippet-title-edit'\n\t\t\t\t\t\tid='snippet-title-edit'\n\t\t\t\t\t\tvalue={editedSnippetTitle}\n\t\t\t\t\t\tonChange={(e) => setEditedSnippetTitle(e.target.value)}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonFocus={function (e) {\n\t\t\t\t\t\t\tvar val = e.target.value\n\t\t\t\t\t\t\te.target.value = \"\"\n\t\t\t\t\t\t\te.target.value = val\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='Title'\n\t\t\t\t\t></input>\n\t\t\t\t) : (\n\t\t\t\t\t<h3 className='snippet-title'>\n\t\t\t\t\t\t{props.snippet.title ? props.snippet.title : \"Untitled\"}\n\t\t\t\t\t</h3>\n\t\t\t\t)}\n\t\t\t\t<div className='options-menu'>\n\t\t\t\t\t<i className='fa-solid fa-pencil edit-icon' onClick={handleOpen}></i>\n\t\t\t\t\t{isConfirmingDelete ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p className='confirm-delete' onClick={(e) => deleteSnippet(e)}>\n\t\t\t\t\t\t\t\tconfirm\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p> / </p>\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tclassName='confirm-delete-cancel'\n\t\t\t\t\t\t\t\tonClick={(e) => setIsConfirmingDelete(false)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tclassName='fa-solid fa-trash delete-icon'\n\t\t\t\t\t\t\tonClick={(e) => setIsConfirmingDelete(true)}\n\t\t\t\t\t\t></i>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{open ? (\n\t\t\t\t<form\n\t\t\t\t\tclassName='snippet-text-edit-container'\n\t\t\t\t\tonSubmit={handleSnippetSubmit}\n\t\t\t\t>\n\t\t\t\t\t<TextareaAutosize\n\t\t\t\t\t\tclassName='snippet-text-edit-area'\n\t\t\t\t\t\tid='snippet-text-edit-area'\n\t\t\t\t\t\tvalue={editedSnippetText}\n\t\t\t\t\t\tonChange={(e) => setEditedSnippetText(e.target.value)}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonFocus={function (e) {\n\t\t\t\t\t\t\tvar val = e.target.value\n\t\t\t\t\t\t\te.target.value = \"\"\n\t\t\t\t\t\t\te.target.value = val\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='Body'\n\t\t\t\t\t></TextareaAutosize>\n\t\t\t\t\t<button className='snippet-text-edit-done-button' type='submit'>\n\t\t\t\t\t\tDone\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t) : (\n\t\t\t\t<p className='snippet-text'>{props.snippet.text}</p>\n\t\t\t)}\n\t\t</div>\n\t)\n}\nexport default Snippet\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}