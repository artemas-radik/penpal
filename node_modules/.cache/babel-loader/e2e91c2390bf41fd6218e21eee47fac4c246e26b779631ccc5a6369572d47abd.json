{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/page-semantic-search-WORKING/src/components/Right/Snippet/index.jsx\",\n  _s = $RefreshSig$();\nimport \"./style.css\";\nimport { useState } from \"react\";\nimport Request from \"../../Request/index.jsx\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Snippet = _ref => {\n  _s();\n  let {\n    snippet,\n    snippets,\n    index,\n    setSnippets\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const [editedSnippetTitle, setEditedSnippetTitle] = useState(snippet.title);\n  const [editedSnippetText, setEditedSnippetText] = useState(snippet.text);\n  const [isConfirmingDelete, setIsConfirmingDelete] = useState(false);\n  const deleteSnippet = e => {\n    const snippetsRequest = new Request(\"snippets/\" + snippet.id + \"/delete/\", {\n      method: \"DELETE\"\n    });\n    snippetsRequest.then(res => {\n      const newSnippets = [...snippets];\n      newSnippets.splice(index, 1);\n      setSnippets(newSnippets);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const handleSnippetSubmit = e => {\n    e.preventDefault();\n    const snippetsRequest = new Request(\"snippets/\" + snippet.id + \"/edit/\", {\n      method: \"POST\",\n      data: {\n        title: editedSnippetTitle,\n        text: editedSnippetText\n      }\n    });\n    snippetsRequest.then(res => {\n      setSnippets(snippets.map(tempSnippet => {\n        if (tempSnippet.id === snippet.id) {\n          tempSnippet.title = editedSnippetTitle;\n          tempSnippet.text = editedSnippetText;\n          return tempSnippet;\n        }\n        return tempSnippet;\n      }));\n      handleClose();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"snippet\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"snippet-header\",\n      children: [open ? /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"snippet-title-edit\",\n        id: \"snippet-title-edit\",\n        value: editedSnippetTitle,\n        onChange: e => setEditedSnippetTitle(e.target.value),\n        autoFocus: true,\n        onFocus: function (e) {\n          var val = e.target.value;\n          e.target.value = \"\";\n          e.target.value = val;\n        },\n        placeholder: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"snippet-title\",\n        children: snippet.title ? snippet.title : \"Untitled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-pencil edit-icon\",\n          onClick: handleOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this), isConfirmingDelete ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"confirm-delete\",\n            onClick: e => deleteSnippet(e),\n            children: \"confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" / \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"confirm-delete-cancel\",\n            onClick: e => setIsConfirmingDelete(false),\n            children: \"cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-trash delete-icon\",\n          onClick: e => setIsConfirmingDelete(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this), open ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"snippet-text-edit-container\",\n      onSubmit: handleSnippetSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextareaAutosize, {\n        className: \"snippet-text-edit-area\",\n        id: \"snippet-text-edit-area\",\n        value: editedSnippetText,\n        onChange: e => setEditedSnippetText(e.target.value),\n        autoFocus: true,\n        onFocus: function (e) {\n          var val = e.target.value;\n          e.target.value = \"\";\n          e.target.value = val;\n        },\n        placeholder: \"Body\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"snippet-text-edit-done-button\",\n        type: \"submit\",\n        children: \"Done\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"snippet-text\",\n      children: snippet.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }, this)]\n  }, index, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 3\n  }, this);\n};\n_s(Snippet, \"Gb91Jsi4UAtdyeHBZ2THbsY9pnA=\");\n_c = Snippet;\nexport default Snippet;\nvar _c;\n$RefreshReg$(_c, \"Snippet\");","map":{"version":3,"names":["useState","Request","TextareaAutosize","Snippet","snippet","snippets","index","setSnippets","open","setOpen","handleOpen","handleClose","editedSnippetTitle","setEditedSnippetTitle","title","editedSnippetText","setEditedSnippetText","text","isConfirmingDelete","setIsConfirmingDelete","deleteSnippet","e","snippetsRequest","id","method","then","res","newSnippets","splice","catch","err","console","log","handleSnippetSubmit","preventDefault","data","map","tempSnippet","target","value","val"],"sources":["/Users/khoinguyen/Programming/page-semantic-search-WORKING/src/components/Right/Snippet/index.jsx"],"sourcesContent":["import \"./style.css\"\nimport { useState } from \"react\"\nimport Request from \"../../Request/index.jsx\"\nimport TextareaAutosize from \"react-textarea-autosize\"\n\nconst Snippet = ({ snippet, snippets, index, setSnippets }) => {\n\tconst [open, setOpen] = useState(false)\n\tconst handleOpen = () => setOpen(true)\n\tconst handleClose = () => setOpen(false)\n\tconst [editedSnippetTitle, setEditedSnippetTitle] = useState(snippet.title)\n\tconst [editedSnippetText, setEditedSnippetText] = useState(snippet.text)\n\tconst [isConfirmingDelete, setIsConfirmingDelete] = useState(false)\n\n\tconst deleteSnippet = (e) => {\n\t\tconst snippetsRequest = new Request(\"snippets/\" + snippet.id + \"/delete/\", {\n\t\t\tmethod: \"DELETE\",\n\t\t})\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newSnippets = [...snippets]\n\t\t\t\tnewSnippets.splice(index, 1)\n\t\t\t\tsetSnippets(newSnippets)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst handleSnippetSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tconst snippetsRequest = new Request(\"snippets/\" + snippet.id + \"/edit/\", {\n\t\t\tmethod: \"POST\",\n\t\t\tdata: { title: editedSnippetTitle, text: editedSnippetText },\n\t\t})\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tsetSnippets(\n\t\t\t\t\tsnippets.map((tempSnippet) => {\n\t\t\t\t\t\tif (tempSnippet.id === snippet.id) {\n\t\t\t\t\t\t\ttempSnippet.title = editedSnippetTitle\n\t\t\t\t\t\t\ttempSnippet.text = editedSnippetText\n\t\t\t\t\t\t\treturn tempSnippet\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn tempSnippet\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\thandleClose()\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className='snippet' key={index}>\n\t\t\t<div className='snippet-header'>\n\t\t\t\t{open ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='snippet-title-edit'\n\t\t\t\t\t\tid='snippet-title-edit'\n\t\t\t\t\t\tvalue={editedSnippetTitle}\n\t\t\t\t\t\tonChange={(e) => setEditedSnippetTitle(e.target.value)}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonFocus={function (e) {\n\t\t\t\t\t\t\tvar val = e.target.value\n\t\t\t\t\t\t\te.target.value = \"\"\n\t\t\t\t\t\t\te.target.value = val\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='Title'\n\t\t\t\t\t></input>\n\t\t\t\t) : (\n\t\t\t\t\t<h3 className='snippet-title'>\n\t\t\t\t\t\t{snippet.title ? snippet.title : \"Untitled\"}\n\t\t\t\t\t</h3>\n\t\t\t\t)}\n\t\t\t\t<div className='options-menu'>\n\t\t\t\t\t<i className='fa-solid fa-pencil edit-icon' onClick={handleOpen}></i>\n\t\t\t\t\t{isConfirmingDelete ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p className='confirm-delete' onClick={(e) => deleteSnippet(e)}>\n\t\t\t\t\t\t\t\tconfirm\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p> / </p>\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tclassName='confirm-delete-cancel'\n\t\t\t\t\t\t\t\tonClick={(e) => setIsConfirmingDelete(false)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tcancel\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\tclassName='fa-solid fa-trash delete-icon'\n\t\t\t\t\t\t\tonClick={(e) => setIsConfirmingDelete(true)}\n\t\t\t\t\t\t></i>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{open ? (\n\t\t\t\t<form\n\t\t\t\t\tclassName='snippet-text-edit-container'\n\t\t\t\t\tonSubmit={handleSnippetSubmit}\n\t\t\t\t>\n\t\t\t\t\t<TextareaAutosize\n\t\t\t\t\t\tclassName='snippet-text-edit-area'\n\t\t\t\t\t\tid='snippet-text-edit-area'\n\t\t\t\t\t\tvalue={editedSnippetText}\n\t\t\t\t\t\tonChange={(e) => setEditedSnippetText(e.target.value)}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonFocus={function (e) {\n\t\t\t\t\t\t\tvar val = e.target.value\n\t\t\t\t\t\t\te.target.value = \"\"\n\t\t\t\t\t\t\te.target.value = val\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder='Body'\n\t\t\t\t\t></TextareaAutosize>\n\t\t\t\t\t<button className='snippet-text-edit-done-button' type='submit'>\n\t\t\t\t\t\tDone\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t) : (\n\t\t\t\t<p className='snippet-text'>{snippet.text}</p>\n\t\t\t)}\n\t\t</div>\n\t)\n}\nexport default Snippet\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}