{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx\",\n  _s = $RefreshSig$();\nimport \"./style.css\";\nimport { useState } from \"react\";\nimport Request from \"../Request/index.jsx\";\n// import Modal from \"@mui/material/Modal\"\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Snippet = props => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const [editedSnippetTitle, setEditedSnippetTitle] = useState(props.snippet.title);\n  const [editedSnippetText, setEditedSnippetText] = useState(props.snippet.text);\n  const deleteSnippet = e => {\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/\", {\n      method: \"DELETE\"\n    });\n    snippetsRequest.then(res => {\n      const newSnippets = [...props.snippets];\n      newSnippets.splice(props.index, 1);\n      props.setSnippets(newSnippets);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const handleSnippetSubmit = e => {\n    e.preventDefault();\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/edit/\", {\n      method: \"POST\",\n      data: {\n        title: editedSnippetTitle,\n        text: editedSnippetText\n      }\n    });\n    snippetsRequest.then(res => {\n      props.setSnippets(props.snippets.map(snippet => {\n        if (snippet.id === props.snippet.id) {\n          snippet.title = editedSnippetTitle;\n          snippet.text = editedSnippetText;\n          return snippet;\n        }\n        return snippet;\n      }));\n      handleClose();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"snippet\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"snippet-header\",\n      children: [open ? /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"snippet-title-edit\",\n        id: \"snippet-title-edit\",\n        value: editedSnippetTitle,\n        onChange: e => setEditedSnippetTitle(e.target.value),\n        autoFocus: true,\n        onFocus: function (e) {\n          var val = e.target.value;\n          e.target.value = \"\";\n          e.target.value = val;\n        },\n        placeholder: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"snippet-title\",\n        children: props.snippet.title ? props.snippet.title : \"Untitled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-pencil edit-icon\",\n          onClick: handleOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-trash delete-icon\",\n          onClick: e => deleteSnippet(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this), open ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"snippet-text-edit-container\",\n      onSubmit: handleSnippetSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextareaAutosize, {\n        className: \"snippet-text-edit-area\",\n        value: editedSnippetText,\n        onChange: e => setEditedSnippetText(e.target.value),\n        autoFocus: true,\n        onFocus: function (e) {\n          var val = e.target.value;\n          e.target.value = \"\";\n          e.target.value = val;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"snippet-text-edit-done-button\",\n        type: \"submit\",\n        children: \"Done\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"snippet-text\",\n      children: props.snippet.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }, this)]\n  }, props.index, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 3\n  }, this);\n};\n_s(Snippet, \"p+fHTsEgNWgIyGTcw3GFhIOhSF4=\");\n_c = Snippet;\nexport default Snippet;\nvar _c;\n$RefreshReg$(_c, \"Snippet\");","map":{"version":3,"names":["useState","Request","TextareaAutosize","Snippet","props","open","setOpen","handleOpen","handleClose","editedSnippetTitle","setEditedSnippetTitle","snippet","title","editedSnippetText","setEditedSnippetText","text","deleteSnippet","e","snippetsRequest","id","method","then","res","newSnippets","snippets","splice","index","setSnippets","catch","err","console","log","handleSnippetSubmit","preventDefault","data","map","target","value","val"],"sources":["/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx"],"sourcesContent":["import \"./style.css\"\nimport { useState } from \"react\"\nimport Request from \"../Request/index.jsx\"\n// import Modal from \"@mui/material/Modal\"\nimport TextareaAutosize from \"react-textarea-autosize\"\n\nconst Snippet = (props) => {\n\tconst [open, setOpen] = useState(false)\n\tconst handleOpen = () => setOpen(true)\n\tconst handleClose = () => setOpen(false)\n\tconst [editedSnippetTitle, setEditedSnippetTitle] = useState(\n\t\tprops.snippet.title\n\t)\n\tconst [editedSnippetText, setEditedSnippetText] = useState(\n\t\tprops.snippet.text\n\t)\n\n\tconst deleteSnippet = (e) => {\n\t\tconst snippetsRequest = new Request(\n\t\t\t\"snippets/\" + props.snippet.id + \"/\",\n\t\t\t{\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t}\n\t\t)\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newSnippets = [...props.snippets]\n\t\t\t\tnewSnippets.splice(props.index, 1)\n\t\t\t\tprops.setSnippets(newSnippets)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst handleSnippetSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tconst snippetsRequest = new Request(\n\t\t\t\"snippets/\" + props.snippet.id + \"/edit/\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: { title: editedSnippetTitle, text: editedSnippetText },\n\t\t\t}\n\t\t)\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tprops.setSnippets(\n\t\t\t\t\tprops.snippets.map((snippet) => {\n\t\t\t\t\t\tif (snippet.id === props.snippet.id) {\n\t\t\t\t\t\t\tsnippet.title = editedSnippetTitle\n\t\t\t\t\t\t\tsnippet.text = editedSnippetText\n\t\t\t\t\t\t\treturn snippet\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn snippet\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\thandleClose()\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"snippet\" key={props.index}>\n\t\t\t<div className=\"snippet-header\">\n\t\t\t\t{open ? (\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"snippet-title-edit\"\n\t\t\t\t\t\tid=\"snippet-title-edit\"\n\t\t\t\t\t\tvalue={editedSnippetTitle}\n\t\t\t\t\t\tonChange={(e) => setEditedSnippetTitle(e.target.value)}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonFocus={function (e) {\n\t\t\t\t\t\t\tvar val = e.target.value\n\t\t\t\t\t\t\te.target.value = \"\"\n\t\t\t\t\t\t\te.target.value = val\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder=\"Title\"\n\t\t\t\t\t></input>\n\t\t\t\t) : (\n\t\t\t\t\t<h3 className=\"snippet-title\">\n\t\t\t\t\t\t{props.snippet.title ? props.snippet.title : \"Untitled\"}\n\t\t\t\t\t</h3>\n\t\t\t\t)}\n\t\t\t\t<div className=\"options-menu\">\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName=\"fa-solid fa-pencil edit-icon\"\n\t\t\t\t\t\tonClick={handleOpen}\n\t\t\t\t\t></i>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName=\"fa-solid fa-trash delete-icon\"\n\t\t\t\t\t\tonClick={(e) => deleteSnippet(e)}\n\t\t\t\t\t></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{open ? (\n\t\t\t\t<form\n\t\t\t\t\tclassName=\"snippet-text-edit-container\"\n\t\t\t\t\tonSubmit={handleSnippetSubmit}\n\t\t\t\t>\n\t\t\t\t\t<TextareaAutosize\n\t\t\t\t\t\tclassName=\"snippet-text-edit-area\"\n\t\t\t\t\t\tvalue={editedSnippetText}\n\t\t\t\t\t\tonChange={(e) => setEditedSnippetText(e.target.value)}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonFocus={function (e) {\n\t\t\t\t\t\t\tvar val = e.target.value\n\t\t\t\t\t\t\te.target.value = \"\"\n\t\t\t\t\t\t\te.target.value = val\n\t\t\t\t\t\t}}\n\t\t\t\t\t></TextareaAutosize>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"snippet-text-edit-done-button\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\tDone\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t) : (\n\t\t\t\t<p className=\"snippet-text\">{props.snippet.text}</p>\n\t\t\t)}\n\t\t</div>\n\t)\n}\nexport default Snippet\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}