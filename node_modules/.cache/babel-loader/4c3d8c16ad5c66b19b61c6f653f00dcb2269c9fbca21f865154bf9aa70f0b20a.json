{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/FreeWrite/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport Request from \"../Request\";\nimport sanitizeHtml from \"sanitize-html\";\nimport { useRef } from \"react\";\nimport { ArrowPathIcon, ArrowTrendingUpIcon, ScissorsIcon, SparklesIcon } from \"@heroicons/react/20/solid\";\nimport Cookies from \"universal-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst websocket = new WebSocket(\"ws://127.0.0.1:8005/ws/essay/?token=\" + cookies.get(\"token\"));\nconst FreeWrite = _ref => {\n  _s();\n  let {\n    freewriteThreads,\n    setFreewriteThreads,\n    selectedFreewriteThread\n  } = _ref;\n  const [text, setText] = useState(freewriteThreads.find(freewriteThread => freewriteThread.id === selectedFreewriteThread).text);\n  const quillRef = useRef(null);\n  const [bounds, setBounds] = useState(null);\n  const [showMenu, setShowMenu] = useState(false);\n  const [actionLoading, setActionLoading] = useState(false);\n  useEffect(() => {\n    setText(freewriteThreads.find(freewriteThread => freewriteThread.id === selectedFreewriteThread).text);\n  }, [selectedFreewriteThread]);\n  useEffect(() => {\n    websocket.onmessage = e => {\n      const data = JSON.parse(e.data);\n      const editor = quillRef.current.getEditor();\n      const selection = editor.getSelection(true);\n      editor.deleteText(selection.index, selection.length);\n      editor.insertText(selection.index, data.output_text);\n      setShowMenu(false);\n    };\n    return () => {\n      websocket.close();\n    };\n  }, []);\n  useEffect(() => {\n    const parameters = {\n      data: {\n        text: text\n      },\n      method: \"POST\"\n    };\n    const updateTextRequest = new Request(\"freewritethreads/\" + selectedFreewriteThread + \"/settext/\", parameters);\n    updateTextRequest.then(res => {\n      const newFreewriteThreads = freewriteThreads.map(freewriteThread => {\n        if (freewriteThread.id === selectedFreewriteThread) {\n          freewriteThread.text = text;\n        }\n        return freewriteThread;\n      });\n      setFreewriteThreads(newFreewriteThreads);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [text]);\n  const modules = {\n    toolbar: [[{\n      header: [1, 2, false]\n    }], [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"], [{\n      list: \"ordered\"\n    }, {\n      list: \"bullet\"\n    }, {\n      indent: \"-1\"\n    }, {\n      indent: \"+1\"\n    }], [\"link\", \"image\"]]\n  };\n  const handleChangeSelection = e => {\n    if (!e || e.length === 0) {\n      setShowMenu(false);\n      return;\n    }\n    const selectedText = window.getSelection().toString();\n    if (!selectedText) {\n      setShowMenu(false);\n      return;\n    }\n    const editor = quillRef.current.getEditor();\n    const selectionBounds = editor.getBounds(e.index, e.length);\n    setBounds(selectionBounds);\n    setShowMenu(true);\n  };\n  const handleContextMenu = (e, mode) => {\n    e.preventDefault();\n    const editor = quillRef.current.getEditor();\n    const selection = editor.getSelection(true);\n    const floweryRequest = new Request(\"freewritethreads/\" + selectedFreewriteThread + \"/createsnippet/\", {\n      data: {\n        input_text: window.getSelection().toString(),\n        mode: mode\n      },\n      method: \"POST\"\n    });\n    floweryRequest.then(res => {\n      const floweryText = res.data.output_text;\n      editor.deleteText(selection.index, selection.length);\n      editor.insertText(selection.index, floweryText);\n      setShowMenu(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const handleContextMenuTest = (e, mode) => {\n    e.preventDefault();\n    websocket.send(JSON.stringify({\n      input_text: window.getSelection().toString(),\n      mode: mode,\n      websocket_type: \"freewritesnippet\",\n      freewrite_thread_id: selectedFreewriteThread\n    }));\n  };\n  const menuOption = _ref2 => {\n    let {\n      mode,\n      icon,\n      text\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 text-sm font-medium w-full hover:cursor-pointer hover:bg-delilahPrimary/50 flex flex-row text-[#475467]\",\n      onMouseDown: e => handleContextMenuTest(e, mode),\n      children: [icon, /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ml-2 \",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 4\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"freewrite flex flex-col h-screen grow p-10\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(ReactQuill, {\n        theme: \"snow\",\n        value: text,\n        onChange: setText,\n        modules: modules,\n        onChangeSelection: e => handleChangeSelection(e),\n        ref: quillRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col bg-[#FFFFFF] rounded absolute space-x-1 text-black items-center justify-center border border-slate-200\" + (showMenu ? \"\" : \" hidden\"),\n        style: bounds ? {\n          top: bounds.top,\n          left: bounds.left,\n          minWidth: 100,\n          maxWidth: 200\n        } : {},\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-normal text-xs text-left text-slate-500 mt-2 self-start ml-2\",\n          children: \"Delilah Options\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 6\n        }, this), menuOption({\n          mode: \"flowery\",\n          icon: /*#__PURE__*/_jsxDEV(SparklesIcon, {\n            className: \"h-5 w-5 text-violet-700\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this),\n          text: \"Show Don't Tell\"\n        }), menuOption({\n          mode: \"expand\",\n          icon: /*#__PURE__*/_jsxDEV(ArrowTrendingUpIcon, {\n            className: \"h-5 w-5 text-green-700\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this),\n          text: \"Expand\"\n        }), menuOption({\n          mode: \"summarize\",\n          icon: /*#__PURE__*/_jsxDEV(ScissorsIcon, {\n            className: \"h-5 w-5 text-red-700\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this),\n          text: \"Summarize\"\n        }), menuOption({\n          mode: \"regenerate\",\n          icon: /*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n            className: \"h-5 w-5 text-yellow-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this),\n          text: \"Regenerate\"\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 3\n  }, this);\n};\n_s(FreeWrite, \"X54Tau1JD14dRMgFcK7nJ/IJea4=\");\n_c = FreeWrite;\nexport default FreeWrite;\nvar _c;\n$RefreshReg$(_c, \"FreeWrite\");","map":{"version":3,"names":["React","useState","useEffect","ReactQuill","Quill","Request","sanitizeHtml","useRef","ArrowPathIcon","ArrowTrendingUpIcon","ScissorsIcon","SparklesIcon","Cookies","cookies","websocket","WebSocket","get","FreeWrite","freewriteThreads","setFreewriteThreads","selectedFreewriteThread","text","setText","find","freewriteThread","id","quillRef","bounds","setBounds","showMenu","setShowMenu","actionLoading","setActionLoading","onmessage","e","data","JSON","parse","editor","current","getEditor","selection","getSelection","deleteText","index","length","insertText","output_text","close","parameters","method","updateTextRequest","then","res","newFreewriteThreads","map","catch","err","console","log","modules","toolbar","header","list","indent","handleChangeSelection","selectedText","window","toString","selectionBounds","getBounds","handleContextMenu","mode","preventDefault","floweryRequest","input_text","floweryText","handleContextMenuTest","send","stringify","websocket_type","freewrite_thread_id","menuOption","icon","top","left","minWidth","maxWidth"],"sources":["/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/FreeWrite/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport ReactQuill, { Quill } from \"react-quill\"\nimport \"react-quill/dist/quill.snow.css\"\nimport Request from \"../Request\"\nimport sanitizeHtml from \"sanitize-html\"\nimport { useRef } from \"react\"\nimport {\n\tArrowPathIcon,\n\tArrowTrendingUpIcon,\n\tScissorsIcon,\n\tSparklesIcon,\n} from \"@heroicons/react/20/solid\"\nimport Cookies from \"universal-cookie\"\n\nconst cookies = new Cookies()\nconst websocket = new WebSocket(\n\t\"ws://127.0.0.1:8005/ws/essay/?token=\" + cookies.get(\"token\")\n)\n\nconst FreeWrite = ({\n\tfreewriteThreads,\n\tsetFreewriteThreads,\n\tselectedFreewriteThread,\n}) => {\n\tconst [text, setText] = useState(\n\t\tfreewriteThreads.find(\n\t\t\t(freewriteThread) => freewriteThread.id === selectedFreewriteThread\n\t\t).text\n\t)\n\tconst quillRef = useRef(null)\n\tconst [bounds, setBounds] = useState(null)\n\tconst [showMenu, setShowMenu] = useState(false)\n\tconst [actionLoading, setActionLoading] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetText(\n\t\t\tfreewriteThreads.find(\n\t\t\t\t(freewriteThread) => freewriteThread.id === selectedFreewriteThread\n\t\t\t).text\n\t\t)\n\t}, [selectedFreewriteThread])\n\n\tuseEffect(() => {\n\t\twebsocket.onmessage = (e) => {\n\t\t\tconst data = JSON.parse(e.data)\n\t\t\tconst editor = quillRef.current.getEditor()\n\t\t\tconst selection = editor.getSelection(true)\n\t\t\teditor.deleteText(selection.index, selection.length)\n\t\t\teditor.insertText(selection.index, data.output_text)\n\t\t\tsetShowMenu(false)\n\t\t}\n\n\t\treturn () => {\n\t\t\twebsocket.close()\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tconst parameters = {\n\t\t\tdata: {\n\t\t\t\ttext: text,\n\t\t\t},\n\t\t\tmethod: \"POST\",\n\t\t}\n\t\tconst updateTextRequest = new Request(\n\t\t\t\"freewritethreads/\" + selectedFreewriteThread + \"/settext/\",\n\t\t\tparameters\n\t\t)\n\n\t\tupdateTextRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newFreewriteThreads = freewriteThreads.map((freewriteThread) => {\n\t\t\t\t\tif (freewriteThread.id === selectedFreewriteThread) {\n\t\t\t\t\t\tfreewriteThread.text = text\n\t\t\t\t\t}\n\t\t\t\t\treturn freewriteThread\n\t\t\t\t})\n\t\t\t\tsetFreewriteThreads(newFreewriteThreads)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}, [text])\n\n\tconst modules = {\n\t\ttoolbar: [\n\t\t\t[{ header: [1, 2, false] }],\n\t\t\t[\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n\t\t\t[\n\t\t\t\t{ list: \"ordered\" },\n\t\t\t\t{ list: \"bullet\" },\n\t\t\t\t{ indent: \"-1\" },\n\t\t\t\t{ indent: \"+1\" },\n\t\t\t],\n\t\t\t[\"link\", \"image\"],\n\t\t],\n\t}\n\n\tconst handleChangeSelection = (e) => {\n\t\tif (!e || e.length === 0) {\n\t\t\tsetShowMenu(false)\n\t\t\treturn\n\t\t}\n\n\t\tconst selectedText = window.getSelection().toString()\n\t\tif (!selectedText) {\n\t\t\tsetShowMenu(false)\n\t\t\treturn\n\t\t}\n\n\t\tconst editor = quillRef.current.getEditor()\n\t\tconst selectionBounds = editor.getBounds(e.index, e.length)\n\t\tsetBounds(selectionBounds)\n\t\tsetShowMenu(true)\n\t}\n\n\tconst handleContextMenu = (e, mode) => {\n\t\te.preventDefault()\n\t\tconst editor = quillRef.current.getEditor()\n\t\tconst selection = editor.getSelection(true)\n\n\t\tconst floweryRequest = new Request(\n\t\t\t\"freewritethreads/\" + selectedFreewriteThread + \"/createsnippet/\",\n\t\t\t{\n\t\t\t\tdata: {\n\t\t\t\t\tinput_text: window.getSelection().toString(),\n\t\t\t\t\tmode: mode,\n\t\t\t\t},\n\t\t\t\tmethod: \"POST\",\n\t\t\t}\n\t\t)\n\n\t\tfloweryRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst floweryText = res.data.output_text\n\t\t\t\teditor.deleteText(selection.index, selection.length)\n\t\t\t\teditor.insertText(selection.index, floweryText)\n\t\t\t\tsetShowMenu(false)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst handleContextMenuTest = (e, mode) => {\n\t\te.preventDefault()\n\n\t\twebsocket.send(\n\t\t\tJSON.stringify({\n\t\t\t\tinput_text: window.getSelection().toString(),\n\t\t\t\tmode: mode,\n\t\t\t\twebsocket_type: \"freewritesnippet\",\n\t\t\t\tfreewrite_thread_id: selectedFreewriteThread,\n\t\t\t})\n\t\t)\n\t}\n\n\tconst menuOption = ({ mode, icon, text }) => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='p-2 text-sm font-medium w-full hover:cursor-pointer hover:bg-delilahPrimary/50 flex flex-row text-[#475467]'\n\t\t\t\tonMouseDown={(e) => handleContextMenuTest(e, mode)}\n\t\t\t>\n\t\t\t\t{icon}\n\t\t\t\t<p className='ml-2 '>{text}</p>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div className='freewrite flex flex-col h-screen grow p-10'>\n\t\t\t<div className='relative'>\n\t\t\t\t<ReactQuill\n\t\t\t\t\ttheme='snow'\n\t\t\t\t\tvalue={text}\n\t\t\t\t\tonChange={setText}\n\t\t\t\t\tmodules={modules}\n\t\t\t\t\tonChangeSelection={(e) => handleChangeSelection(e)}\n\t\t\t\t\tref={quillRef}\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t\"flex flex-col bg-[#FFFFFF] rounded absolute space-x-1 text-black items-center justify-center border border-slate-200\" +\n\t\t\t\t\t\t(showMenu ? \"\" : \" hidden\")\n\t\t\t\t\t}\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tbounds\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\ttop: bounds.top,\n\t\t\t\t\t\t\t\t\tleft: bounds.left,\n\t\t\t\t\t\t\t\t\tminWidth: 100,\n\t\t\t\t\t\t\t\t\tmaxWidth: 200,\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<p className='font-normal text-xs text-left text-slate-500 mt-2 self-start ml-2'>\n\t\t\t\t\t\tDelilah Options\n\t\t\t\t\t</p>\n\t\t\t\t\t{menuOption({\n\t\t\t\t\t\tmode: \"flowery\",\n\t\t\t\t\t\ticon: <SparklesIcon className='h-5 w-5 text-violet-700' />,\n\t\t\t\t\t\ttext: \"Show Don't Tell\",\n\t\t\t\t\t})}\n\t\t\t\t\t{menuOption({\n\t\t\t\t\t\tmode: \"expand\",\n\t\t\t\t\t\ticon: <ArrowTrendingUpIcon className='h-5 w-5 text-green-700' />,\n\t\t\t\t\t\ttext: \"Expand\",\n\t\t\t\t\t})}\n\t\t\t\t\t{menuOption({\n\t\t\t\t\t\tmode: \"summarize\",\n\t\t\t\t\t\ticon: <ScissorsIcon className='h-5 w-5 text-red-700' />,\n\t\t\t\t\t\ttext: \"Summarize\",\n\t\t\t\t\t})}\n\t\t\t\t\t{menuOption({\n\t\t\t\t\t\tmode: \"regenerate\",\n\t\t\t\t\t\ticon: <ArrowPathIcon className='h-5 w-5 text-yellow-500' />,\n\t\t\t\t\t\ttext: \"Regenerate\",\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default FreeWrite\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}