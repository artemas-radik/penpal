{"ast":null,"code":"import axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport toast from \"react-hot-toast\";\nconst cookies = new Cookies();\nclass Request {\n  constructor(endpoint) {\n    let parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let url = arguments.length > 2 ? arguments[2] : undefined;\n    let options = {\n      method: \"GET\",\n      // if there is no url object, then do the root url + endpoint, else use the url\n      url: process.env.REACT_APP_API_URL + endpoint,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + cookies.get(\"token\")\n      }\n    };\n\n    // add POST data\n    options[\"data\"] = parameters[\"data\"];\n    // add GET data\n    options[\"params\"] = parameters[\"params\"];\n\n    // if method != GET (implied above), then change it\n    if (parameters[\"method\"] !== undefined) {\n      options[\"method\"] = parameters[\"method\"];\n    }\n    axios(options).then(res => {\n      if (typeof this.then !== \"undefined\") {\n        this.then(res);\n      }\n    }).catch(err => {\n      if (typeof this.catch !== \"undefined\") {\n        this.catch(err);\n        toast.error(\"Something went wrong. Please try again.\");\n      }\n    });\n  }\n  catch(callback) {\n    this.catch = callback;\n    return this;\n  }\n  then(callback) {\n    this.then = callback;\n    return this;\n  }\n}\nexport default Request;","map":{"version":3,"names":["axios","Cookies","toast","cookies","Request","constructor","endpoint","parameters","url","options","method","process","env","REACT_APP_API_URL","headers","Authorization","get","undefined","then","res","catch","err","error","callback"],"sources":["/Users/khoinguyen/Programming/penpal/src/components/Request/index.jsx"],"sourcesContent":["import axios from \"axios\"\nimport Cookies from \"universal-cookie\"\nimport toast from \"react-hot-toast\"\n\nconst cookies = new Cookies()\n\nclass Request {\n\tconstructor(endpoint, parameters = {}, url) {\n\t\tlet options = {\n\t\t\tmethod: \"GET\",\n\t\t\t// if there is no url object, then do the root url + endpoint, else use the url\n\t\t\turl: process.env.REACT_APP_API_URL + endpoint,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: \"Bearer \" + cookies.get(\"token\"),\n\t\t\t},\n\t\t}\n\n\t\t// add POST data\n\t\toptions[\"data\"] = parameters[\"data\"]\n\t\t// add GET data\n\t\toptions[\"params\"] = parameters[\"params\"]\n\n\t\t// if method != GET (implied above), then change it\n\t\tif (parameters[\"method\"] !== undefined) {\n\t\t\toptions[\"method\"] = parameters[\"method\"]\n\t\t}\n\n\t\taxios(options)\n\t\t\t.then((res) => {\n\t\t\t\tif (typeof this.then !== \"undefined\") {\n\t\t\t\t\tthis.then(res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tif (typeof this.catch !== \"undefined\") {\n\t\t\t\t\tthis.catch(err)\n\t\t\t\t\ttoast.error(\"Something went wrong. Please try again.\")\n\t\t\t\t}\n\t\t\t})\n\t}\n\tcatch(callback) {\n\t\tthis.catch = callback\n\t\treturn this\n\t}\n\n\tthen(callback) {\n\t\tthis.then = callback\n\t\treturn this\n\t}\n}\n\nexport default Request\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,kBAAkB;AACtC,OAAOC,KAAK,MAAM,iBAAiB;AAEnC,MAAMC,OAAO,GAAG,IAAIF,OAAO,EAAE;AAE7B,MAAMG,OAAO,CAAC;EACbC,WAAW,CAACC,QAAQ,EAAwB;IAAA,IAAtBC,UAAU,uEAAG,CAAC,CAAC;IAAA,IAAEC,GAAG;IACzC,IAAIC,OAAO,GAAG;MACbC,MAAM,EAAE,KAAK;MACb;MACAF,GAAG,EAAEG,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAGP,QAAQ;MAC7CQ,OAAO,EAAE;QACR,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,SAAS,GAAGZ,OAAO,CAACa,GAAG,CAAC,OAAO;MAC/C;IACD,CAAC;;IAED;IACAP,OAAO,CAAC,MAAM,CAAC,GAAGF,UAAU,CAAC,MAAM,CAAC;IACpC;IACAE,OAAO,CAAC,QAAQ,CAAC,GAAGF,UAAU,CAAC,QAAQ,CAAC;;IAExC;IACA,IAAIA,UAAU,CAAC,QAAQ,CAAC,KAAKU,SAAS,EAAE;MACvCR,OAAO,CAAC,QAAQ,CAAC,GAAGF,UAAU,CAAC,QAAQ,CAAC;IACzC;IAEAP,KAAK,CAACS,OAAO,CAAC,CACZS,IAAI,CAAEC,GAAG,IAAK;MACd,IAAI,OAAO,IAAI,CAACD,IAAI,KAAK,WAAW,EAAE;QACrC,IAAI,CAACA,IAAI,CAACC,GAAG,CAAC;MACf;IACD,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACf,IAAI,OAAO,IAAI,CAACD,KAAK,KAAK,WAAW,EAAE;QACtC,IAAI,CAACA,KAAK,CAACC,GAAG,CAAC;QACfnB,KAAK,CAACoB,KAAK,CAAC,yCAAyC,CAAC;MACvD;IACD,CAAC,CAAC;EACJ;EACAF,KAAK,CAACG,QAAQ,EAAE;IACf,IAAI,CAACH,KAAK,GAAGG,QAAQ;IACrB,OAAO,IAAI;EACZ;EAEAL,IAAI,CAACK,QAAQ,EAAE;IACd,IAAI,CAACL,IAAI,GAAGK,QAAQ;IACpB,OAAO,IAAI;EACZ;AACD;AAEA,eAAenB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}