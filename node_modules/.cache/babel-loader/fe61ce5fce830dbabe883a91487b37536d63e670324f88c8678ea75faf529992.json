{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx\",\n  _s = $RefreshSig$();\nimport \"./style.css\";\nimport { useState } from \"react\";\nimport Request from \"../Request/index.jsx\";\n// import Modal from \"@mui/material/Modal\"\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Snippet = props => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const [editedSnippetValue, setEditedSnippetValue] = useState(props.snippet.text);\n  const deleteSnippet = e => {\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/\", {\n      method: \"DELETE\"\n    });\n    snippetsRequest.then(res => {\n      const newSnippets = [...props.snippets];\n      newSnippets.splice(props.index, 1);\n      props.setSnippets(newSnippets);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const handleModalSubmit = e => {\n    e.preventDefault();\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/edit/\", {\n      method: \"POST\",\n      data: {\n        text: editedSnippetValue\n      }\n    });\n    snippetsRequest.then(res => {\n      props.setSnippets(props.snippets.map(snippet => {\n        if (snippet.id === props.snippet.id) {\n          snippet.text = editedSnippetValue;\n          return snippet;\n        }\n        return snippet;\n      }));\n      handleClose();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"snippet\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"snippet-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"snippet-title\",\n        children: props.snippet.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-pencil edit-icon\",\n          onClick: handleOpen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-trash delete-icon\",\n          onClick: e => deleteSnippet(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this), open ? /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"snippet-text-edit-container\",\n      onSubmit: handleModalSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextareaAutosize, {\n        className: \"snippet-text-edit-area\",\n        value: editedSnippetValue,\n        onChange: e => setEditedSnippetValue(e.target.value),\n        autoFocus: true,\n        onFocus: function (e) {\n          var val = e.target.value;\n          e.target.value = \"\";\n          e.target.value = val;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"snippet-text-edit-done-button\",\n        type: \"submit\",\n        children: \"Done\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"snippet-text\",\n      children: props.snippet.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this)]\n  }, props.index, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 3\n  }, this);\n};\n_s(Snippet, \"fcrMFjQ5a1wjEBgkfGW5kHwt46k=\");\n_c = Snippet;\nexport default Snippet;\nvar _c;\n$RefreshReg$(_c, \"Snippet\");","map":{"version":3,"names":["useState","Request","TextareaAutosize","Snippet","props","open","setOpen","handleOpen","handleClose","editedSnippetValue","setEditedSnippetValue","snippet","text","deleteSnippet","e","snippetsRequest","id","method","then","res","newSnippets","snippets","splice","index","setSnippets","catch","err","console","log","handleModalSubmit","preventDefault","data","map","title","target","value","val"],"sources":["/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx"],"sourcesContent":["import \"./style.css\"\nimport { useState } from \"react\"\nimport Request from \"../Request/index.jsx\"\n// import Modal from \"@mui/material/Modal\"\nimport TextareaAutosize from \"react-textarea-autosize\"\n\nconst Snippet = (props) => {\n\tconst [open, setOpen] = useState(false)\n\tconst handleOpen = () => setOpen(true)\n\tconst handleClose = () => setOpen(false)\n\tconst [editedSnippetValue, setEditedSnippetValue] = useState(\n\t\tprops.snippet.text\n\t)\n\n\tconst deleteSnippet = (e) => {\n\t\tconst snippetsRequest = new Request(\n\t\t\t\"snippets/\" + props.snippet.id + \"/\",\n\t\t\t{\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t}\n\t\t)\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newSnippets = [...props.snippets]\n\t\t\t\tnewSnippets.splice(props.index, 1)\n\t\t\t\tprops.setSnippets(newSnippets)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst handleModalSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tconst snippetsRequest = new Request(\n\t\t\t\"snippets/\" + props.snippet.id + \"/edit/\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: { text: editedSnippetValue },\n\t\t\t}\n\t\t)\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tprops.setSnippets(\n\t\t\t\t\tprops.snippets.map((snippet) => {\n\t\t\t\t\t\tif (snippet.id === props.snippet.id) {\n\t\t\t\t\t\t\tsnippet.text = editedSnippetValue\n\t\t\t\t\t\t\treturn snippet\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn snippet\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\thandleClose()\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"snippet\" key={props.index}>\n\t\t\t<div className=\"snippet-header\">\n\t\t\t\t<p className=\"snippet-title\">{props.snippet.title}</p>\n\t\t\t\t<div className=\"options-menu\">\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName=\"fa-solid fa-pencil edit-icon\"\n\t\t\t\t\t\tonClick={handleOpen}\n\t\t\t\t\t></i>\n\t\t\t\t\t<i\n\t\t\t\t\t\tclassName=\"fa-solid fa-trash delete-icon\"\n\t\t\t\t\t\tonClick={(e) => deleteSnippet(e)}\n\t\t\t\t\t></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{open ? (\n\t\t\t\t<form\n\t\t\t\t\tclassName=\"snippet-text-edit-container\"\n\t\t\t\t\tonSubmit={handleModalSubmit}\n\t\t\t\t>\n\t\t\t\t\t<TextareaAutosize\n\t\t\t\t\t\tclassName=\"snippet-text-edit-area\"\n\t\t\t\t\t\tvalue={editedSnippetValue}\n\t\t\t\t\t\tonChange={(e) => setEditedSnippetValue(e.target.value)}\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tonFocus={function (e) {\n\t\t\t\t\t\t\tvar val = e.target.value\n\t\t\t\t\t\t\te.target.value = \"\"\n\t\t\t\t\t\t\te.target.value = val\n\t\t\t\t\t\t}}\n\t\t\t\t\t></TextareaAutosize>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"snippet-text-edit-done-button\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\tDone\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t) : (\n\t\t\t\t<p className=\"snippet-text\">{props.snippet.text}</p>\n\t\t\t)}\n\t\t</div>\n\t)\n}\nexport default Snippet\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}