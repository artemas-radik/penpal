{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Center/index.jsx\",\n  _s2 = $RefreshSig$();\nimport Message from \"./Message\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Request from \"../Request/index.jsx\";\nimport CenterForm from \"../CenterForm\";\nimport EmptyThreadInfo from \"./EmptyThreadInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Center = _ref => {\n  _s2();\n  var _s = $RefreshSig$();\n  let {\n    threads,\n    setThreads,\n    selectedThread,\n    snippets,\n    setSnippets,\n    socket,\n    setShowCTASubscribed\n  } = _ref;\n  const [delilahWorking, setDelilahWorking] = useState(false);\n  // Prompt Form\n  const choiceTypes = [\"prompt\", \"topic\", \"experiences\"];\n  const [formData, setFormData] = useState({\n    prompt_type: \"outline\",\n    prompt_choices: [{\n      choice_type: choiceTypes[0],\n      choice: \"\",\n      placeholder: \"Click the info button for help!\"\n    }, {\n      choice_type: choiceTypes[1],\n      choice: \"\",\n      placeholder: \"Choose an interesting topic\"\n    }, {\n      choice_type: choiceTypes[2],\n      choice: \"\",\n      placeholder: \"Enter cool information about yourself\"\n    }],\n    thread_id: selectedThread\n  });\n\n  // Update Form / Quicktools\n  const [command, setCommand] = useState(\"general\");\n  const [showTextField, setShowTextField] = useState(true);\n  const [textFieldValue, setTextFieldValue] = useState(\"\");\n  useEffect(() => {\n    if (socket === null) return;\n    socket.onmessage = e => {\n      const data = JSON.parse(e.data);\n      if (data[\"error\"] !== undefined) {\n        console.log(data[\"error\"]);\n        setShowCTASubscribed(true);\n        return;\n      }\n      if (data[\"output_text\"]) {\n        setThreads(threads.map(thread => {\n          if (thread.id === data[\"thread_id\"]) {\n            const lastGeneration = thread.generations.slice(-1)[0];\n            lastGeneration.text = lastGeneration.text + data[\"output_text\"];\n          }\n          return thread;\n        }));\n      }\n      if (data[\"prompt\"]) {\n        setThreads(threads.map(thread => {\n          if (thread.id === selectedThread) {\n            return {\n              ...thread,\n              generations: [...thread.generations, data]\n            };\n          }\n          return thread;\n        }));\n      }\n      if (data[\"status_command\"] === \"DONE\") {\n        setTextFieldValue(\"\");\n      }\n      if (data[\"status\"] === \"DONE\") {\n        setDelilahWorking(false);\n      }\n      setFormData({\n        ...formData,\n        prompt_type: \"outline\",\n        prompt_choices: [{\n          choice_type: choiceTypes[0],\n          choice: \"\"\n        }, {\n          choice_type: choiceTypes[1],\n          choice: \"\"\n        }, {\n          choice_type: choiceTypes[2],\n          choice: \"\"\n        }]\n      });\n    };\n    return () => {\n      socket.onmessage = null;\n    };\n  }, [threads, selectedThread, socket]);\n  useEffect(() => {\n    setFormData({\n      ...formData,\n      thread_id: selectedThread\n    });\n  }, [selectedThread]);\n  const handleChangeForm = (event, index) => {\n    const {\n      name,\n      value\n    } = event.target;\n    const newPromptChoices = [...formData.prompt_choices];\n    if (event.target.name === \"prompt_type\") setFormData({\n      ...formData,\n      [event.target.name]: event.target.value\n    });else newPromptChoices[index][name] = value;\n    setFormData({\n      ...formData,\n      prompt_type: name === \"prompt_type\" ? value : formData.prompt_type,\n      prompt_choices: newPromptChoices\n    });\n  };\n  const sendForm = () => {\n    setDelilahWorking(true);\n    socket.send(JSON.stringify({\n      ...formData,\n      websocket_type: \"generation\"\n    }));\n  };\n  const handleChange = e => {\n    setCommand(e.target.value);\n    setShowTextField(e.target.value !== \"\");\n  };\n  const sendCommands = (e, valCommand, valTextFieldValue) => {\n    e.preventDefault();\n    // setDelilahWorking(true)\n\n    const data = {\n      command: valCommand,\n      text_field_value: valTextFieldValue,\n      thread_id: selectedThread\n    };\n    socket.send(JSON.stringify({\n      ...data,\n      websocket_type: \"command\"\n    }));\n  };\n  const regenerateGeneration = e => {\n    setDelilahWorking(true);\n    setThreads(threads.map(thread => {\n      if (thread.id === selectedThread) {\n        return {\n          ...thread,\n          generations: [...thread.generations.slice(0, thread.generations.length - 1)]\n        };\n      }\n      return thread;\n    }));\n    const toSend = {\n      ...formData,\n      websocket_type: \"regenerate\"\n    };\n    socket.send(JSON.stringify(toSend));\n  };\n  const deleteGeneration = e => {\n    setDelilahWorking(true);\n    const deleteRequest = new Request(\"threads/\" + selectedThread + \"/delete_last_generation/\", {\n      method: \"POST\"\n    });\n    deleteRequest.then(response => {\n      setThreads(threads.map(thread => {\n        if (thread.id === selectedThread) {\n          return response.data;\n        }\n        return thread;\n      }));\n      setDelilahWorking(false);\n    }).catch(err => {\n      console.log(err);\n      setDelilahWorking(false);\n    });\n  };\n  const threadHasNoGenerations = () => {\n    return threads.find(thread => thread.id === selectedThread).generations.length === 0;\n  };\n  const getThreadGenerations = () => {\n    return threads.find(thread => thread.id === selectedThread).generations;\n  };\n  const AlwaysScrollToBottom = () => {\n    _s();\n    const elementRef = useRef();\n    useEffect(() => elementRef.current.scrollIntoView());\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: elementRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 10\n    }, this);\n  };\n  _s(AlwaysScrollToBottom, \"CKe/C9l/PZDcdMrjDfTWxieUegY=\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-4/6 flex flex-col align-bottom\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-y-scroll overflow-x-hidden relative mx-auto left-0 right-0 w-5/6\",\n      children: threadHasNoGenerations() ? /*#__PURE__*/_jsxDEV(EmptyThreadInfo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [getThreadGenerations().map((generation, index, arr) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Message, {\n              text: generation.prompt.user_string,\n              writtenByDelilah: false,\n              sendCommands: sendCommands,\n              delilahWorking: delilahWorking,\n              setDelilahWorking: setDelilahWorking,\n              snippets: snippets,\n              setSnippets: setSnippets,\n              isLast: index === -1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Message, {\n              text: generation.text,\n              writtenByDelilah: true,\n              sendCommands: sendCommands,\n              delilahWorking: delilahWorking,\n              setDelilahWorking: setDelilahWorking,\n              snippets: snippets,\n              setSnippets: setSnippets,\n              isLast: index === arr.length - 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 11\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 10\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(AlwaysScrollToBottom, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(CenterForm, {\n      threads: threads,\n      selectedThread: selectedThread,\n      formData: formData,\n      handleChangeForm: handleChangeForm,\n      command: command,\n      sendForm: sendForm,\n      handleChange: handleChange,\n      showTextField: showTextField,\n      textFieldValue: textFieldValue,\n      setTextFieldValue: setTextFieldValue,\n      sendCommands: sendCommands,\n      deleteGeneration: deleteGeneration,\n      regenerateGeneration: regenerateGeneration,\n      delilahWorking: delilahWorking\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 3\n  }, this);\n};\n_s2(Center, \"/Q4SB9e6G1vYYk1KrsqLZbwz1V0=\");\n_c = Center;\nexport default Center;\nvar _c;\n$RefreshReg$(_c, \"Center\");","map":{"version":3,"names":["Message","React","useState","useEffect","useRef","Request","CenterForm","EmptyThreadInfo","Center","threads","setThreads","selectedThread","snippets","setSnippets","socket","setShowCTASubscribed","delilahWorking","setDelilahWorking","choiceTypes","formData","setFormData","prompt_type","prompt_choices","choice_type","choice","placeholder","thread_id","command","setCommand","showTextField","setShowTextField","textFieldValue","setTextFieldValue","onmessage","e","data","JSON","parse","undefined","console","log","map","thread","id","lastGeneration","generations","slice","text","handleChangeForm","event","index","name","value","target","newPromptChoices","sendForm","send","stringify","websocket_type","handleChange","sendCommands","valCommand","valTextFieldValue","preventDefault","text_field_value","regenerateGeneration","length","toSend","deleteGeneration","deleteRequest","method","then","response","catch","err","threadHasNoGenerations","find","getThreadGenerations","AlwaysScrollToBottom","elementRef","current","scrollIntoView","generation","arr","prompt","user_string"],"sources":["/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Center/index.jsx"],"sourcesContent":["import Message from \"./Message\"\nimport React, { useState, useEffect, useRef } from \"react\"\nimport Request from \"../Request/index.jsx\"\nimport CenterForm from \"../CenterForm\"\nimport EmptyThreadInfo from \"./EmptyThreadInfo\"\n\nconst Center = ({\n\tthreads,\n\tsetThreads,\n\tselectedThread,\n\tsnippets,\n\tsetSnippets,\n\tsocket,\n\tsetShowCTASubscribed,\n}) => {\n\tconst [delilahWorking, setDelilahWorking] = useState(false)\n\t// Prompt Form\n\tconst choiceTypes = [\"prompt\", \"topic\", \"experiences\"]\n\tconst [formData, setFormData] = useState({\n\t\tprompt_type: \"outline\",\n\t\tprompt_choices: [\n\t\t\t{\n\t\t\t\tchoice_type: choiceTypes[0],\n\t\t\t\tchoice: \"\",\n\t\t\t\tplaceholder: \"Click the info button for help!\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tchoice_type: choiceTypes[1],\n\t\t\t\tchoice: \"\",\n\t\t\t\tplaceholder: \"Choose an interesting topic\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tchoice_type: choiceTypes[2],\n\t\t\t\tchoice: \"\",\n\t\t\t\tplaceholder: \"Enter cool information about yourself\",\n\t\t\t},\n\t\t],\n\t\tthread_id: selectedThread,\n\t})\n\n\t// Update Form / Quicktools\n\tconst [command, setCommand] = useState(\"general\")\n\tconst [showTextField, setShowTextField] = useState(true)\n\tconst [textFieldValue, setTextFieldValue] = useState(\"\")\n\n\tuseEffect(() => {\n\t\tif (socket === null) return\n\n\t\tsocket.onmessage = (e) => {\n\t\t\tconst data = JSON.parse(e.data)\n\t\t\tif (data[\"error\"] !== undefined) {\n\t\t\t\tconsole.log(data[\"error\"])\n\t\t\t\tsetShowCTASubscribed(true)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (data[\"output_text\"]) {\n\t\t\t\tsetThreads(\n\t\t\t\t\tthreads.map((thread) => {\n\t\t\t\t\t\tif (thread.id === data[\"thread_id\"]) {\n\t\t\t\t\t\t\tconst lastGeneration =\n\t\t\t\t\t\t\t\tthread.generations.slice(-1)[0]\n\t\t\t\t\t\t\tlastGeneration.text =\n\t\t\t\t\t\t\t\tlastGeneration.text + data[\"output_text\"]\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn thread\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\t\t\tif (data[\"prompt\"]) {\n\t\t\t\tsetThreads(\n\t\t\t\t\tthreads.map((thread) => {\n\t\t\t\t\t\tif (thread.id === selectedThread) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...thread,\n\t\t\t\t\t\t\t\tgenerations: [...thread.generations, data],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn thread\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (data[\"status_command\"] === \"DONE\") {\n\t\t\t\tsetTextFieldValue(\"\")\n\t\t\t}\n\n\t\t\tif (data[\"status\"] === \"DONE\") {\n\t\t\t\tsetDelilahWorking(false)\n\t\t\t}\n\n\t\t\tsetFormData({\n\t\t\t\t...formData,\n\t\t\t\tprompt_type: \"outline\",\n\t\t\t\tprompt_choices: [\n\t\t\t\t\t{ choice_type: choiceTypes[0], choice: \"\" },\n\t\t\t\t\t{ choice_type: choiceTypes[1], choice: \"\" },\n\t\t\t\t\t{ choice_type: choiceTypes[2], choice: \"\" },\n\t\t\t\t],\n\t\t\t})\n\t\t}\n\n\t\treturn () => {\n\t\t\tsocket.onmessage = null\n\t\t}\n\t}, [threads, selectedThread, socket])\n\n\tuseEffect(() => {\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\tthread_id: selectedThread,\n\t\t})\n\t}, [selectedThread])\n\n\tconst handleChangeForm = (event, index) => {\n\t\tconst { name, value } = event.target\n\t\tconst newPromptChoices = [...formData.prompt_choices]\n\n\t\tif (event.target.name === \"prompt_type\")\n\t\t\tsetFormData({\n\t\t\t\t...formData,\n\t\t\t\t[event.target.name]: event.target.value,\n\t\t\t})\n\t\telse newPromptChoices[index][name] = value\n\t\tsetFormData({\n\t\t\t...formData,\n\t\t\tprompt_type: name === \"prompt_type\" ? value : formData.prompt_type,\n\t\t\tprompt_choices: newPromptChoices,\n\t\t})\n\t}\n\n\tconst sendForm = () => {\n\t\tsetDelilahWorking(true)\n\t\tsocket.send(\n\t\t\tJSON.stringify({ ...formData, websocket_type: \"generation\" })\n\t\t)\n\t}\n\n\tconst handleChange = (e) => {\n\t\tsetCommand(e.target.value)\n\t\tsetShowTextField(e.target.value !== \"\")\n\t}\n\n\tconst sendCommands = (e, valCommand, valTextFieldValue) => {\n\t\te.preventDefault()\n\t\t// setDelilahWorking(true)\n\n\t\tconst data = {\n\t\t\tcommand: valCommand,\n\t\t\ttext_field_value: valTextFieldValue,\n\t\t\tthread_id: selectedThread,\n\t\t}\n\t\tsocket.send(JSON.stringify({ ...data, websocket_type: \"command\" }))\n\t}\n\n\tconst regenerateGeneration = (e) => {\n\t\tsetDelilahWorking(true)\n\t\tsetThreads(\n\t\t\tthreads.map((thread) => {\n\t\t\t\tif (thread.id === selectedThread) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...thread,\n\t\t\t\t\t\tgenerations: [\n\t\t\t\t\t\t\t...thread.generations.slice(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tthread.generations.length - 1\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn thread\n\t\t\t})\n\t\t)\n\n\t\tconst toSend = { ...formData, websocket_type: \"regenerate\" }\n\t\tsocket.send(JSON.stringify(toSend))\n\t}\n\n\tconst deleteGeneration = (e) => {\n\t\tsetDelilahWorking(true)\n\n\t\tconst deleteRequest = new Request(\n\t\t\t\"threads/\" + selectedThread + \"/delete_last_generation/\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t}\n\t\t)\n\n\t\tdeleteRequest\n\t\t\t.then((response) => {\n\t\t\t\tsetThreads(\n\t\t\t\t\tthreads.map((thread) => {\n\t\t\t\t\t\tif (thread.id === selectedThread) {\n\t\t\t\t\t\t\treturn response.data\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn thread\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\tsetDelilahWorking(false)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tsetDelilahWorking(false)\n\t\t\t})\n\t}\n\n\tconst threadHasNoGenerations = () => {\n\t\treturn (\n\t\t\tthreads.find((thread) => thread.id === selectedThread).generations\n\t\t\t\t.length === 0\n\t\t)\n\t}\n\n\tconst getThreadGenerations = () => {\n\t\treturn threads.find((thread) => thread.id === selectedThread)\n\t\t\t.generations\n\t}\n\n\tconst AlwaysScrollToBottom = () => {\n\t\tconst elementRef = useRef()\n\t\tuseEffect(() => elementRef.current.scrollIntoView())\n\t\treturn <div ref={elementRef} />\n\t}\n\n\treturn (\n\t\t<div className=\"h-screen w-4/6 flex flex-col align-bottom\">\n\t\t\t<div className=\"overflow-y-scroll overflow-x-hidden relative mx-auto left-0 right-0 w-5/6\">\n\t\t\t\t{threadHasNoGenerations() ? (\n\t\t\t\t\t<EmptyThreadInfo />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{getThreadGenerations().map(\n\t\t\t\t\t\t\t(generation, index, arr) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\t\t\t\t\ttext={generation.prompt.user_string}\n\t\t\t\t\t\t\t\t\t\t\twrittenByDelilah={false}\n\t\t\t\t\t\t\t\t\t\t\tsendCommands={sendCommands}\n\t\t\t\t\t\t\t\t\t\t\tdelilahWorking={delilahWorking}\n\t\t\t\t\t\t\t\t\t\t\tsetDelilahWorking={\n\t\t\t\t\t\t\t\t\t\t\t\tsetDelilahWorking\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsnippets={snippets}\n\t\t\t\t\t\t\t\t\t\t\tsetSnippets={setSnippets}\n\t\t\t\t\t\t\t\t\t\t\tisLast={index === -1}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\t\t\t\t\ttext={generation.text}\n\t\t\t\t\t\t\t\t\t\t\twrittenByDelilah={true}\n\t\t\t\t\t\t\t\t\t\t\tsendCommands={sendCommands}\n\t\t\t\t\t\t\t\t\t\t\tdelilahWorking={delilahWorking}\n\t\t\t\t\t\t\t\t\t\t\tsetDelilahWorking={\n\t\t\t\t\t\t\t\t\t\t\t\tsetDelilahWorking\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsnippets={snippets}\n\t\t\t\t\t\t\t\t\t\t\tsetSnippets={setSnippets}\n\t\t\t\t\t\t\t\t\t\t\tisLast={index === arr.length - 1}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<AlwaysScrollToBottom />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<CenterForm\n\t\t\t\tthreads={threads}\n\t\t\t\tselectedThread={selectedThread}\n\t\t\t\tformData={formData}\n\t\t\t\thandleChangeForm={handleChangeForm}\n\t\t\t\tcommand={command}\n\t\t\t\tsendForm={sendForm}\n\t\t\t\thandleChange={handleChange}\n\t\t\t\tshowTextField={showTextField}\n\t\t\t\ttextFieldValue={textFieldValue}\n\t\t\t\tsetTextFieldValue={setTextFieldValue}\n\t\t\t\tsendCommands={sendCommands}\n\t\t\t\tdeleteGeneration={deleteGeneration}\n\t\t\t\tregenerateGeneration={regenerateGeneration}\n\t\t\t\tdelilahWorking={delilahWorking}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default Center\n"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,WAAW;AAC/B,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,UAAU,MAAM,eAAe;AACtC,OAAOC,eAAe,MAAM,mBAAmB;AAAA;AAAA;AAE/C,MAAMC,MAAM,GAAG,QAQT;EAAA;EAAA;EAAA,IARU;IACfC,OAAO;IACPC,UAAU;IACVC,cAAc;IACdC,QAAQ;IACRC,WAAW;IACXC,MAAM;IACNC;EACD,CAAC;EACA,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC3D;EACA,MAAMgB,WAAW,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,aAAa,CAAC;EACtD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC;IACxCmB,WAAW,EAAE,SAAS;IACtBC,cAAc,EAAE,CACf;MACCC,WAAW,EAAEL,WAAW,CAAC,CAAC,CAAC;MAC3BM,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE;IACd,CAAC,EACD;MACCF,WAAW,EAAEL,WAAW,CAAC,CAAC,CAAC;MAC3BM,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE;IACd,CAAC,EACD;MACCF,WAAW,EAAEL,WAAW,CAAC,CAAC,CAAC;MAC3BM,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE;IACd,CAAC,CACD;IACDC,SAAS,EAAEf;EACZ,CAAC,CAAC;;EAEF;EACA,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,SAAS,CAAC;EACjD,MAAM,CAAC2B,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC6B,cAAc,EAAEC,iBAAiB,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAExDC,SAAS,CAAC,MAAM;IACf,IAAIW,MAAM,KAAK,IAAI,EAAE;IAErBA,MAAM,CAACmB,SAAS,GAAIC,CAAC,IAAK;MACzB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,CAAC,CAACC,IAAI,CAAC;MAC/B,IAAIA,IAAI,CAAC,OAAO,CAAC,KAAKG,SAAS,EAAE;QAChCC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1BpB,oBAAoB,CAAC,IAAI,CAAC;QAC1B;MACD;MAEA,IAAIoB,IAAI,CAAC,aAAa,CAAC,EAAE;QACxBzB,UAAU,CACTD,OAAO,CAACgC,GAAG,CAAEC,MAAM,IAAK;UACvB,IAAIA,MAAM,CAACC,EAAE,KAAKR,IAAI,CAAC,WAAW,CAAC,EAAE;YACpC,MAAMS,cAAc,GACnBF,MAAM,CAACG,WAAW,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChCF,cAAc,CAACG,IAAI,GAClBH,cAAc,CAACG,IAAI,GAAGZ,IAAI,CAAC,aAAa,CAAC;UAC3C;UACA,OAAOO,MAAM;QACd,CAAC,CAAC,CACF;MACF;MACA,IAAIP,IAAI,CAAC,QAAQ,CAAC,EAAE;QACnBzB,UAAU,CACTD,OAAO,CAACgC,GAAG,CAAEC,MAAM,IAAK;UACvB,IAAIA,MAAM,CAACC,EAAE,KAAKhC,cAAc,EAAE;YACjC,OAAO;cACN,GAAG+B,MAAM;cACTG,WAAW,EAAE,CAAC,GAAGH,MAAM,CAACG,WAAW,EAAEV,IAAI;YAC1C,CAAC;UACF;UACA,OAAOO,MAAM;QACd,CAAC,CAAC,CACF;MACF;MAEA,IAAIP,IAAI,CAAC,gBAAgB,CAAC,KAAK,MAAM,EAAE;QACtCH,iBAAiB,CAAC,EAAE,CAAC;MACtB;MAEA,IAAIG,IAAI,CAAC,QAAQ,CAAC,KAAK,MAAM,EAAE;QAC9BlB,iBAAiB,CAAC,KAAK,CAAC;MACzB;MAEAG,WAAW,CAAC;QACX,GAAGD,QAAQ;QACXE,WAAW,EAAE,SAAS;QACtBC,cAAc,EAAE,CACf;UAAEC,WAAW,EAAEL,WAAW,CAAC,CAAC,CAAC;UAAEM,MAAM,EAAE;QAAG,CAAC,EAC3C;UAAED,WAAW,EAAEL,WAAW,CAAC,CAAC,CAAC;UAAEM,MAAM,EAAE;QAAG,CAAC,EAC3C;UAAED,WAAW,EAAEL,WAAW,CAAC,CAAC,CAAC;UAAEM,MAAM,EAAE;QAAG,CAAC;MAE7C,CAAC,CAAC;IACH,CAAC;IAED,OAAO,MAAM;MACZV,MAAM,CAACmB,SAAS,GAAG,IAAI;IACxB,CAAC;EACF,CAAC,EAAE,CAACxB,OAAO,EAAEE,cAAc,EAAEG,MAAM,CAAC,CAAC;EAErCX,SAAS,CAAC,MAAM;IACfiB,WAAW,CAAC;MACX,GAAGD,QAAQ;MACXO,SAAS,EAAEf;IACZ,CAAC,CAAC;EACH,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,MAAMqC,gBAAgB,GAAG,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC1C,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGH,KAAK,CAACI,MAAM;IACpC,MAAMC,gBAAgB,GAAG,CAAC,GAAGnC,QAAQ,CAACG,cAAc,CAAC;IAErD,IAAI2B,KAAK,CAACI,MAAM,CAACF,IAAI,KAAK,aAAa,EACtC/B,WAAW,CAAC;MACX,GAAGD,QAAQ;MACX,CAAC8B,KAAK,CAACI,MAAM,CAACF,IAAI,GAAGF,KAAK,CAACI,MAAM,CAACD;IACnC,CAAC,CAAC,MACEE,gBAAgB,CAACJ,KAAK,CAAC,CAACC,IAAI,CAAC,GAAGC,KAAK;IAC1ChC,WAAW,CAAC;MACX,GAAGD,QAAQ;MACXE,WAAW,EAAE8B,IAAI,KAAK,aAAa,GAAGC,KAAK,GAAGjC,QAAQ,CAACE,WAAW;MAClEC,cAAc,EAAEgC;IACjB,CAAC,CAAC;EACH,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAM;IACtBtC,iBAAiB,CAAC,IAAI,CAAC;IACvBH,MAAM,CAAC0C,IAAI,CACVpB,IAAI,CAACqB,SAAS,CAAC;MAAE,GAAGtC,QAAQ;MAAEuC,cAAc,EAAE;IAAa,CAAC,CAAC,CAC7D;EACF,CAAC;EAED,MAAMC,YAAY,GAAIzB,CAAC,IAAK;IAC3BN,UAAU,CAACM,CAAC,CAACmB,MAAM,CAACD,KAAK,CAAC;IAC1BtB,gBAAgB,CAACI,CAAC,CAACmB,MAAM,CAACD,KAAK,KAAK,EAAE,CAAC;EACxC,CAAC;EAED,MAAMQ,YAAY,GAAG,CAAC1B,CAAC,EAAE2B,UAAU,EAAEC,iBAAiB,KAAK;IAC1D5B,CAAC,CAAC6B,cAAc,EAAE;IAClB;;IAEA,MAAM5B,IAAI,GAAG;MACZR,OAAO,EAAEkC,UAAU;MACnBG,gBAAgB,EAAEF,iBAAiB;MACnCpC,SAAS,EAAEf;IACZ,CAAC;IACDG,MAAM,CAAC0C,IAAI,CAACpB,IAAI,CAACqB,SAAS,CAAC;MAAE,GAAGtB,IAAI;MAAEuB,cAAc,EAAE;IAAU,CAAC,CAAC,CAAC;EACpE,CAAC;EAED,MAAMO,oBAAoB,GAAI/B,CAAC,IAAK;IACnCjB,iBAAiB,CAAC,IAAI,CAAC;IACvBP,UAAU,CACTD,OAAO,CAACgC,GAAG,CAAEC,MAAM,IAAK;MACvB,IAAIA,MAAM,CAACC,EAAE,KAAKhC,cAAc,EAAE;QACjC,OAAO;UACN,GAAG+B,MAAM;UACTG,WAAW,EAAE,CACZ,GAAGH,MAAM,CAACG,WAAW,CAACC,KAAK,CAC1B,CAAC,EACDJ,MAAM,CAACG,WAAW,CAACqB,MAAM,GAAG,CAAC,CAC7B;QAEH,CAAC;MACF;MACA,OAAOxB,MAAM;IACd,CAAC,CAAC,CACF;IAED,MAAMyB,MAAM,GAAG;MAAE,GAAGhD,QAAQ;MAAEuC,cAAc,EAAE;IAAa,CAAC;IAC5D5C,MAAM,CAAC0C,IAAI,CAACpB,IAAI,CAACqB,SAAS,CAACU,MAAM,CAAC,CAAC;EACpC,CAAC;EAED,MAAMC,gBAAgB,GAAIlC,CAAC,IAAK;IAC/BjB,iBAAiB,CAAC,IAAI,CAAC;IAEvB,MAAMoD,aAAa,GAAG,IAAIhE,OAAO,CAChC,UAAU,GAAGM,cAAc,GAAG,0BAA0B,EACxD;MACC2D,MAAM,EAAE;IACT,CAAC,CACD;IAEDD,aAAa,CACXE,IAAI,CAAEC,QAAQ,IAAK;MACnB9D,UAAU,CACTD,OAAO,CAACgC,GAAG,CAAEC,MAAM,IAAK;QACvB,IAAIA,MAAM,CAACC,EAAE,KAAKhC,cAAc,EAAE;UACjC,OAAO6D,QAAQ,CAACrC,IAAI;QACrB;QACA,OAAOO,MAAM;MACd,CAAC,CAAC,CACF;MACDzB,iBAAiB,CAAC,KAAK,CAAC;IACzB,CAAC,CAAC,CACDwD,KAAK,CAAEC,GAAG,IAAK;MACfnC,OAAO,CAACC,GAAG,CAACkC,GAAG,CAAC;MAChBzD,iBAAiB,CAAC,KAAK,CAAC;IACzB,CAAC,CAAC;EACJ,CAAC;EAED,MAAM0D,sBAAsB,GAAG,MAAM;IACpC,OACClE,OAAO,CAACmE,IAAI,CAAElC,MAAM,IAAKA,MAAM,CAACC,EAAE,KAAKhC,cAAc,CAAC,CAACkC,WAAW,CAChEqB,MAAM,KAAK,CAAC;EAEhB,CAAC;EAED,MAAMW,oBAAoB,GAAG,MAAM;IAClC,OAAOpE,OAAO,CAACmE,IAAI,CAAElC,MAAM,IAAKA,MAAM,CAACC,EAAE,KAAKhC,cAAc,CAAC,CAC3DkC,WAAW;EACd,CAAC;EAED,MAAMiC,oBAAoB,GAAG,MAAM;IAAA;IAClC,MAAMC,UAAU,GAAG3E,MAAM,EAAE;IAC3BD,SAAS,CAAC,MAAM4E,UAAU,CAACC,OAAO,CAACC,cAAc,EAAE,CAAC;IACpD,oBAAO;MAAK,GAAG,EAAEF;IAAW;MAAA;MAAA;MAAA;IAAA,QAAG;EAChC,CAAC;EAAA,GAJKD,oBAAoB;EAM1B,oBACC;IAAK,SAAS,EAAC,2CAA2C;IAAA,wBACzD;MAAK,SAAS,EAAC,2EAA2E;MAAA,UACxFH,sBAAsB,EAAE,gBACxB,QAAC,eAAe;QAAA;QAAA;QAAA;MAAA,QAAG,gBAEnB;QAAA,WACEE,oBAAoB,EAAE,CAACpC,GAAG,CAC1B,CAACyC,UAAU,EAAEhC,KAAK,EAAEiC,GAAG,KAAK;UAC3B,oBACC;YAAA,wBACC,QAAC,OAAO;cACP,IAAI,EAAED,UAAU,CAACE,MAAM,CAACC,WAAY;cACpC,gBAAgB,EAAE,KAAM;cACxB,YAAY,EAAEzB,YAAa;cAC3B,cAAc,EAAE5C,cAAe;cAC/B,iBAAiB,EAChBC,iBACA;cACD,QAAQ,EAAEL,QAAS;cACnB,WAAW,EAAEC,WAAY;cACzB,MAAM,EAAEqC,KAAK,KAAK,CAAC;YAAE;cAAA;cAAA;cAAA;YAAA,QACpB,eACF,QAAC,OAAO;cACP,IAAI,EAAEgC,UAAU,CAACnC,IAAK;cACtB,gBAAgB,EAAE,IAAK;cACvB,YAAY,EAAEa,YAAa;cAC3B,cAAc,EAAE5C,cAAe;cAC/B,iBAAiB,EAChBC,iBACA;cACD,QAAQ,EAAEL,QAAS;cACnB,WAAW,EAAEC,WAAY;cACzB,MAAM,EAAEqC,KAAK,KAAKiC,GAAG,CAACjB,MAAM,GAAG;YAAE;cAAA;cAAA;cAAA;YAAA,QAChC;UAAA,GAxBOhB,KAAK;YAAA;YAAA;YAAA;UAAA,QAyBT;QAER,CAAC,CACD,eACD,QAAC,oBAAoB;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;IAEzB;MAAA;MAAA;MAAA;IAAA,QACI,eACN,QAAC,UAAU;MACV,OAAO,EAAEzC,OAAQ;MACjB,cAAc,EAAEE,cAAe;MAC/B,QAAQ,EAAEQ,QAAS;MACnB,gBAAgB,EAAE6B,gBAAiB;MACnC,OAAO,EAAErB,OAAQ;MACjB,QAAQ,EAAE4B,QAAS;MACnB,YAAY,EAAEI,YAAa;MAC3B,aAAa,EAAE9B,aAAc;MAC7B,cAAc,EAAEE,cAAe;MAC/B,iBAAiB,EAAEC,iBAAkB;MACrC,YAAY,EAAE4B,YAAa;MAC3B,gBAAgB,EAAEQ,gBAAiB;MACnC,oBAAoB,EAAEH,oBAAqB;MAC3C,cAAc,EAAEjD;IAAe;MAAA;MAAA;MAAA;IAAA,QAC9B;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAER,CAAC;AAAA,IAvRKR,MAAM;AAAA,KAANA,MAAM;AAyRZ,eAAeA,MAAM;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}