{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/page-semantic-search/src/components/FreeWrite/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"./style.css\";\nimport Request from \"../Request\";\nimport FreeWriteMenu from \"./FreewriteMenu\";\nimport PromptInput from \"./PromptInput\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FreeWrite = _ref => {\n  _s();\n  let {\n    freewriteThreads,\n    setFreewriteThreads,\n    selectedFreewriteThread,\n    socket,\n    setShowCTASubscribed\n  } = _ref;\n  const [text, setText] = useState(freewriteThreads.find(freewriteThread => freewriteThread.id === selectedFreewriteThread).text);\n  const [prompt, setPrompt] = useState(freewriteThreads.find(freewriteThread => freewriteThread.id === selectedFreewriteThread).prompt);\n  const [bounds, setBounds] = useState(null);\n  const [showMenu, setShowMenu] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const quillRef = useRef(null);\n  useEffect(() => {\n    if (socket === null) return;\n    socket.onmessage = e => {\n      const data = JSON.parse(e.data);\n      const editor = quillRef.current.getEditor();\n      if (data[\"error\"] !== undefined) {\n        console.log(data[\"error\"]);\n        setShowCTASubscribed(true);\n        return;\n      }\n      if (data[\"first_output\"]) {\n        setIsGenerating(true);\n        const selection = editor.getSelection(true);\n        editor.deleteText(selection.index, selection.length);\n      }\n      if (data[\"output_text\"]) {\n        editor.insertText(editor.getSelection(true).index, data[\"output_text\"]);\n      }\n      if (data[\"status\"] === \"DONE\") {\n        setIsGenerating(false);\n      }\n    };\n    return () => {\n      socket.onmessage = null;\n    };\n  }, []);\n  useEffect(() => {\n    setText(freewriteThreads.find(freewriteThread => freewriteThread.id === selectedFreewriteThread).text);\n    setPrompt(freewriteThreads.find(freewriteThread => freewriteThread.id === selectedFreewriteThread).prompt);\n  }, [selectedFreewriteThread]);\n  useEffect(() => {\n    const parameters = {\n      data: {\n        text: text\n      },\n      method: \"POST\"\n    };\n    const updateTextRequest = new Request(\"freewritethreads/\" + selectedFreewriteThread + \"/settext/\", parameters);\n    setIsSaving(true);\n    updateTextRequest.then(res => {\n      const newFreewriteThreads = freewriteThreads.map(freewriteThread => {\n        if (freewriteThread.id === selectedFreewriteThread) {\n          freewriteThread.text = text;\n        }\n        return freewriteThread;\n      });\n      setFreewriteThreads(newFreewriteThreads);\n      setIsSaving(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [text]);\n\n  // set the background of the snow theme\n  const modules = {\n    toolbar: [[{\n      header: [1, 2, false]\n    }], [\"bold\", \"italic\", \"underline\", \"strike\"], [{\n      list: \"ordered\"\n    }, {\n      list: \"bullet\"\n    }]]\n  };\n  const handleChangeSelection = e => {\n    if (!e || e.length === 0 || e.length < 10) {\n      setShowMenu(false);\n      return;\n    }\n    const selectedText = window.getSelection().toString();\n    if (!selectedText) {\n      setShowMenu(false);\n      return;\n    }\n    const editor = quillRef.current.getEditor();\n    const selectionBounds = editor.getBounds(e.index, e.length);\n    setBounds(selectionBounds);\n    setShowMenu(true);\n  };\n  const handleContextMenu = (e, mode) => {\n    e.preventDefault();\n    socket.send(JSON.stringify({\n      input_text: window.getSelection().toString(),\n      mode: mode,\n      websocket_type: \"freewritesnippet\",\n      freewrite_thread_id: selectedFreewriteThread\n    }));\n  };\n  const updatePrompt = prompt => {\n    const parameters = {\n      method: \"POST\",\n      data: {\n        prompt: prompt\n      }\n    };\n    const promptRequest = new Request(\"freewritethreads/\" + selectedFreewriteThread + \"/setprompt/\", parameters);\n    promptRequest.then(res => {\n      const newFreewriteThreads = freewriteThreads.map(freewriteThread => {\n        if (freewriteThread.id === selectedFreewriteThread) {\n          freewriteThread.prompt = prompt;\n        }\n        return freewriteThread;\n      });\n      setFreewriteThreads(newFreewriteThreads);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-screen overflow-y-scroll overflow-x-hidden flex flex-col h-screen px-[10rem] py-[2rem] \",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(PromptInput, {\n        prompt: prompt,\n        setPrompt: setPrompt,\n        updatePrompt: updatePrompt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n        theme: \"snow\",\n        className: \"w-full h-full\",\n        value: text,\n        onChange: setText,\n        modules: modules,\n        onChangeSelection: e => handleChangeSelection(e),\n        ref: quillRef,\n        readOnly: isGenerating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute left-1/2 transform -translate-x-1/2 bottom-0\",\n        children: \"Built with \\u2764\\uFE0F by Khoi Nguyen, Artemas Radik, and Sibi Raja\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(FreeWriteMenu, {\n        bounds: bounds,\n        showMenu: showMenu,\n        handleContextMenu: handleContextMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 3\n  }, this);\n};\n_s(FreeWrite, \"56ybcd0P5WmRjl8nM6YtIdAowmQ=\");\n_c = FreeWrite;\nexport default FreeWrite;\nvar _c;\n$RefreshReg$(_c, \"FreeWrite\");","map":{"version":3,"names":["React","useState","useEffect","useRef","ReactQuill","Request","FreeWriteMenu","PromptInput","FreeWrite","freewriteThreads","setFreewriteThreads","selectedFreewriteThread","socket","setShowCTASubscribed","text","setText","find","freewriteThread","id","prompt","setPrompt","bounds","setBounds","showMenu","setShowMenu","isSaving","setIsSaving","isGenerating","setIsGenerating","quillRef","onmessage","e","data","JSON","parse","editor","current","getEditor","undefined","console","log","selection","getSelection","deleteText","index","length","insertText","parameters","method","updateTextRequest","then","res","newFreewriteThreads","map","catch","err","modules","toolbar","header","list","handleChangeSelection","selectedText","window","toString","selectionBounds","getBounds","handleContextMenu","mode","preventDefault","send","stringify","input_text","websocket_type","freewrite_thread_id","updatePrompt","promptRequest"],"sources":["/Users/khoinguyen/Programming/page-semantic-search/src/components/FreeWrite/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\"\nimport ReactQuill from \"react-quill\"\nimport \"react-quill/dist/quill.snow.css\"\nimport \"./style.css\"\nimport Request from \"../Request\"\nimport FreeWriteMenu from \"./FreewriteMenu\"\nimport PromptInput from \"./PromptInput\"\n\nconst FreeWrite = ({\n\tfreewriteThreads,\n\tsetFreewriteThreads,\n\tselectedFreewriteThread,\n\tsocket,\n\tsetShowCTASubscribed,\n}) => {\n\tconst [text, setText] = useState(\n\t\tfreewriteThreads.find(\n\t\t\t(freewriteThread) => freewriteThread.id === selectedFreewriteThread\n\t\t).text\n\t)\n\tconst [prompt, setPrompt] = useState(\n\t\tfreewriteThreads.find(\n\t\t\t(freewriteThread) => freewriteThread.id === selectedFreewriteThread\n\t\t).prompt\n\t)\n\tconst [bounds, setBounds] = useState(null)\n\tconst [showMenu, setShowMenu] = useState(false)\n\tconst [isSaving, setIsSaving] = useState(false)\n\tconst [isGenerating, setIsGenerating] = useState(false)\n\tconst quillRef = useRef(null)\n\n\tuseEffect(() => {\n\t\tif (socket === null) return\n\n\t\tsocket.onmessage = (e) => {\n\t\t\tconst data = JSON.parse(e.data)\n\t\t\tconst editor = quillRef.current.getEditor()\n\n\t\t\tif (data[\"error\"] !== undefined) {\n\t\t\t\tconsole.log(data[\"error\"])\n\t\t\t\tsetShowCTASubscribed(true)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (data[\"first_output\"]) {\n\t\t\t\tsetIsGenerating(true)\n\t\t\t\tconst selection = editor.getSelection(true)\n\t\t\t\teditor.deleteText(selection.index, selection.length)\n\t\t\t}\n\n\t\t\tif (data[\"output_text\"]) {\n\t\t\t\teditor.insertText(\n\t\t\t\t\teditor.getSelection(true).index,\n\t\t\t\t\tdata[\"output_text\"]\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (data[\"status\"] === \"DONE\") {\n\t\t\t\tsetIsGenerating(false)\n\t\t\t}\n\t\t}\n\n\t\treturn () => {\n\t\t\tsocket.onmessage = null\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tsetText(\n\t\t\tfreewriteThreads.find(\n\t\t\t\t(freewriteThread) =>\n\t\t\t\t\tfreewriteThread.id === selectedFreewriteThread\n\t\t\t).text\n\t\t)\n\t\tsetPrompt(\n\t\t\tfreewriteThreads.find(\n\t\t\t\t(freewriteThread) =>\n\t\t\t\t\tfreewriteThread.id === selectedFreewriteThread\n\t\t\t).prompt\n\t\t)\n\t}, [selectedFreewriteThread])\n\n\tuseEffect(() => {\n\t\tconst parameters = {\n\t\t\tdata: {\n\t\t\t\ttext: text,\n\t\t\t},\n\t\t\tmethod: \"POST\",\n\t\t}\n\t\tconst updateTextRequest = new Request(\n\t\t\t\"freewritethreads/\" + selectedFreewriteThread + \"/settext/\",\n\t\t\tparameters\n\t\t)\n\t\tsetIsSaving(true)\n\n\t\tupdateTextRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newFreewriteThreads = freewriteThreads.map(\n\t\t\t\t\t(freewriteThread) => {\n\t\t\t\t\t\tif (freewriteThread.id === selectedFreewriteThread) {\n\t\t\t\t\t\t\tfreewriteThread.text = text\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn freewriteThread\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tsetFreewriteThreads(newFreewriteThreads)\n\t\t\t\tsetIsSaving(false)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}, [text])\n\n\t// set the background of the snow theme\n\tconst modules = {\n\t\ttoolbar: [\n\t\t\t[{ header: [1, 2, false] }],\n\t\t\t[\"bold\", \"italic\", \"underline\", \"strike\"],\n\t\t\t[{ list: \"ordered\" }, { list: \"bullet\" }],\n\t\t],\n\t}\n\n\tconst handleChangeSelection = (e) => {\n\t\tif (!e || e.length === 0 || e.length < 10) {\n\t\t\tsetShowMenu(false)\n\t\t\treturn\n\t\t}\n\n\t\tconst selectedText = window.getSelection().toString()\n\t\tif (!selectedText) {\n\t\t\tsetShowMenu(false)\n\t\t\treturn\n\t\t}\n\n\t\tconst editor = quillRef.current.getEditor()\n\t\tconst selectionBounds = editor.getBounds(e.index, e.length)\n\t\tsetBounds(selectionBounds)\n\t\tsetShowMenu(true)\n\t}\n\n\tconst handleContextMenu = (e, mode) => {\n\t\te.preventDefault()\n\n\t\tsocket.send(\n\t\t\tJSON.stringify({\n\t\t\t\tinput_text: window.getSelection().toString(),\n\t\t\t\tmode: mode,\n\t\t\t\twebsocket_type: \"freewritesnippet\",\n\t\t\t\tfreewrite_thread_id: selectedFreewriteThread,\n\t\t\t})\n\t\t)\n\t}\n\n\tconst updatePrompt = (prompt) => {\n\t\tconst parameters = {\n\t\t\tmethod: \"POST\",\n\t\t\tdata: {\n\t\t\t\tprompt: prompt,\n\t\t\t},\n\t\t}\n\n\t\tconst promptRequest = new Request(\n\t\t\t\"freewritethreads/\" + selectedFreewriteThread + \"/setprompt/\",\n\t\t\tparameters\n\t\t)\n\n\t\tpromptRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newFreewriteThreads = freewriteThreads.map(\n\t\t\t\t\t(freewriteThread) => {\n\t\t\t\t\t\tif (freewriteThread.id === selectedFreewriteThread) {\n\t\t\t\t\t\t\tfreewriteThread.prompt = prompt\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn freewriteThread\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tsetFreewriteThreads(newFreewriteThreads)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"w-screen overflow-y-scroll overflow-x-hidden flex flex-col h-screen px-[10rem] py-[2rem] \">\n\t\t\t<div className=\"relative\">\n\t\t\t\t<PromptInput\n\t\t\t\t\tprompt={prompt}\n\t\t\t\t\tsetPrompt={setPrompt}\n\t\t\t\t\tupdatePrompt={updatePrompt}\n\t\t\t\t/>\n\t\t\t\t<ReactQuill\n\t\t\t\t\ttheme=\"snow\"\n\t\t\t\t\tclassName=\"w-full h-full\"\n\t\t\t\t\tvalue={text}\n\t\t\t\t\tonChange={setText}\n\t\t\t\t\tmodules={modules}\n\t\t\t\t\tonChangeSelection={(e) => handleChangeSelection(e)}\n\t\t\t\t\tref={quillRef}\n\t\t\t\t\treadOnly={isGenerating}\n\t\t\t\t/>\n\n\t\t\t\t{/* center, use fun styling and emoji */}\n\t\t\t\t{/* align to bottom */}\n\t\t\t\t<div className=\"absolute left-1/2 transform -translate-x-1/2 bottom-0\">\n\t\t\t\t\tBuilt with ❤️ by Khoi Nguyen, Artemas Radik, and Sibi Raja\n\t\t\t\t</div>\n\n\t\t\t\t<FreeWriteMenu\n\t\t\t\t\tbounds={bounds}\n\t\t\t\t\tshowMenu={showMenu}\n\t\t\t\t\thandleContextMenu={handleContextMenu}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default FreeWrite\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}