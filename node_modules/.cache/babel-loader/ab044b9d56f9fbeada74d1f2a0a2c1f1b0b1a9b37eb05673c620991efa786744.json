{"ast":null,"code":"var _jsxFileName = \"/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx\",\n  _s = $RefreshSig$();\nimport \"./style.css\";\nimport { useState } from \"react\";\nimport Request from \"../Request/index.jsx\";\nimport Modal from \"@mui/material/Modal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Snippet = props => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n  const [editedSnippetValue, setEditedSnippetValue] = useState(props.snippet.text);\n  const deleteSnippet = e => {\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/\", {\n      method: \"DELETE\"\n    });\n    snippetsRequest.then(res => {\n      const newSnippets = [...props.snippets];\n      newSnippets.splice(props.index, 1);\n      props.setSnippets(newSnippets);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const handleModalSubmit = e => {\n    e.preventDefault();\n    const snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/edit/\", {\n      method: \"POST\",\n      data: {\n        text: editedSnippetValue\n      }\n    });\n    snippetsRequest.then(res => {\n      props.setSnippets(props.snippets.map(snippet => {\n        if (snippet.id === props.snippet.id) {\n          snippet.text = editedSnippetValue;\n          return snippet;\n        }\n        return snippet;\n      }));\n      handleClose();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"snippet\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa-solid fa-pencil edit-icon\",\n        onClick: handleOpen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa-solid fa-trash delete-icon\",\n        onClick: e => deleteSnippet(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"snippet-text\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: props.snippet.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleModalSubmit,\n      \"aria-labelledby\": \"modal-modal-title\",\n      \"aria-describedby\": \"modal-modal-description\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-style\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleModalSubmit,\n          className: \"modal-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"modal-input\",\n            id: \"modal-input\",\n            name: \"modal-input\",\n            value: editedSnippetValue,\n            onChange: e => setEditedSnippetValue(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-button modal-button--cancel\",\n              onClick: handleClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"modal-button modal-button--submit\",\n              onClick: handleModalSubmit,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this)]\n  }, props.index, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 3\n  }, this);\n};\n_s(Snippet, \"fcrMFjQ5a1wjEBgkfGW5kHwt46k=\");\n_c = Snippet;\nexport default Snippet;\nvar _c;\n$RefreshReg$(_c, \"Snippet\");","map":{"version":3,"names":["useState","Request","Modal","Snippet","props","open","setOpen","handleOpen","handleClose","editedSnippetValue","setEditedSnippetValue","snippet","text","deleteSnippet","e","snippetsRequest","id","method","then","res","newSnippets","snippets","splice","index","setSnippets","catch","err","console","log","handleModalSubmit","preventDefault","data","map","target","value"],"sources":["/Users/khoinguyen/Programming/delilah-ai/delilah-frontend/src/components/Snippet/index.jsx"],"sourcesContent":["import \"./style.css\"\nimport { useState } from \"react\"\nimport Request from \"../Request/index.jsx\"\nimport Modal from \"@mui/material/Modal\"\n\nconst Snippet = (props) => {\n\tconst [open, setOpen] = useState(false)\n\tconst handleOpen = () => setOpen(true)\n\tconst handleClose = () => setOpen(false)\n\tconst [editedSnippetValue, setEditedSnippetValue] = useState(\n\t\tprops.snippet.text\n\t)\n\n\tconst deleteSnippet = (e) => {\n\t\tconst snippetsRequest = new Request(\"snippets/\" + props.snippet.id + \"/\", {\n\t\t\tmethod: \"DELETE\",\n\t\t})\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tconst newSnippets = [...props.snippets]\n\t\t\t\tnewSnippets.splice(props.index, 1)\n\t\t\t\tprops.setSnippets(newSnippets)\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\tconst handleModalSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tconst snippetsRequest = new Request(\n\t\t\t\"snippets/\" + props.snippet.id + \"/edit/\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: { text: editedSnippetValue },\n\t\t\t}\n\t\t)\n\t\tsnippetsRequest\n\t\t\t.then((res) => {\n\t\t\t\tprops.setSnippets(\n\t\t\t\t\tprops.snippets.map((snippet) => {\n\t\t\t\t\t\tif (snippet.id === props.snippet.id) {\n\t\t\t\t\t\t\tsnippet.text = editedSnippetValue\n\t\t\t\t\t\t\treturn snippet\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn snippet\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\thandleClose()\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className='snippet' key={props.index}>\n\t\t\t<div className='options-menu'>\n\t\t\t\t<i className='fa-solid fa-pencil edit-icon' onClick={handleOpen}></i>\n\t\t\t\t<i\n\t\t\t\t\tclassName='fa-solid fa-trash delete-icon'\n\t\t\t\t\tonClick={(e) => deleteSnippet(e)}\n\t\t\t\t></i>\n\t\t\t</div>\n\t\t\t<div className='snippet-text'>\n\t\t\t\t<p>{props.snippet.text}</p>\n\t\t\t</div>\n\n\t\t\t<Modal\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleModalSubmit}\n\t\t\t\taria-labelledby='modal-modal-title'\n\t\t\t\taria-describedby='modal-modal-description'\n\t\t\t>\n\t\t\t\t<div className='modal-style'>\n\t\t\t\t\t<form onSubmit={handleModalSubmit} className='modal-form'>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tclassName='modal-input'\n\t\t\t\t\t\t\tid='modal-input'\n\t\t\t\t\t\t\tname='modal-input'\n\t\t\t\t\t\t\tvalue={editedSnippetValue}\n\t\t\t\t\t\t\tonChange={(e) => setEditedSnippetValue(e.target.value)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className='modal-buttons'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='modal-button modal-button--cancel'\n\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tclassName='modal-button modal-button--submit'\n\t\t\t\t\t\t\t\tonClick={handleModalSubmit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</div>\n\t)\n}\nexport default Snippet\n"],"mappings":";;AAAA,OAAO,aAAa;AACpB,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,KAAK,MAAM,qBAAqB;AAAA;AAEvC,MAAMC,OAAO,GAAIC,KAAK,IAAK;EAAA;EAC1B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAMO,UAAU,GAAG,MAAMD,OAAO,CAAC,IAAI,CAAC;EACtC,MAAME,WAAW,GAAG,MAAMF,OAAO,CAAC,KAAK,CAAC;EACxC,MAAM,CAACG,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGV,QAAQ,CAC3DI,KAAK,CAACO,OAAO,CAACC,IAAI,CAClB;EAED,MAAMC,aAAa,GAAIC,CAAC,IAAK;IAC5B,MAAMC,eAAe,GAAG,IAAId,OAAO,CAAC,WAAW,GAAGG,KAAK,CAACO,OAAO,CAACK,EAAE,GAAG,GAAG,EAAE;MACzEC,MAAM,EAAE;IACT,CAAC,CAAC;IACFF,eAAe,CACbG,IAAI,CAAEC,GAAG,IAAK;MACd,MAAMC,WAAW,GAAG,CAAC,GAAGhB,KAAK,CAACiB,QAAQ,CAAC;MACvCD,WAAW,CAACE,MAAM,CAAClB,KAAK,CAACmB,KAAK,EAAE,CAAC,CAAC;MAClCnB,KAAK,CAACoB,WAAW,CAACJ,WAAW,CAAC;IAC/B,CAAC,CAAC,CACDK,KAAK,CAAEC,GAAG,IAAK;MACfC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,iBAAiB,GAAIf,CAAC,IAAK;IAChCA,CAAC,CAACgB,cAAc,EAAE;IAElB,MAAMf,eAAe,GAAG,IAAId,OAAO,CAClC,WAAW,GAAGG,KAAK,CAACO,OAAO,CAACK,EAAE,GAAG,QAAQ,EACzC;MACCC,MAAM,EAAE,MAAM;MACdc,IAAI,EAAE;QAAEnB,IAAI,EAAEH;MAAmB;IAClC,CAAC,CACD;IACDM,eAAe,CACbG,IAAI,CAAEC,GAAG,IAAK;MACdf,KAAK,CAACoB,WAAW,CAChBpB,KAAK,CAACiB,QAAQ,CAACW,GAAG,CAAErB,OAAO,IAAK;QAC/B,IAAIA,OAAO,CAACK,EAAE,KAAKZ,KAAK,CAACO,OAAO,CAACK,EAAE,EAAE;UACpCL,OAAO,CAACC,IAAI,GAAGH,kBAAkB;UACjC,OAAOE,OAAO;QACf;QACA,OAAOA,OAAO;MACf,CAAC,CAAC,CACF;MACDH,WAAW,EAAE;IACd,CAAC,CAAC,CACDiB,KAAK,CAAEC,GAAG,IAAK;MACfC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC;EAED,oBACC;IAAK,SAAS,EAAC,SAAS;IAAA,wBACvB;MAAK,SAAS,EAAC,cAAc;MAAA,wBAC5B;QAAG,SAAS,EAAC,8BAA8B;QAAC,OAAO,EAAEnB;MAAW;QAAA;QAAA;QAAA;MAAA,QAAK,eACrE;QACC,SAAS,EAAC,+BAA+B;QACzC,OAAO,EAAGO,CAAC,IAAKD,aAAa,CAACC,CAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAC7B;IAAA;MAAA;MAAA;MAAA;IAAA,QACA,eACN;MAAK,SAAS,EAAC,cAAc;MAAA,uBAC5B;QAAA,UAAIV,KAAK,CAACO,OAAO,CAACC;MAAI;QAAA;QAAA;QAAA;MAAA;IAAK;MAAA;MAAA;MAAA;IAAA,QACtB,eAEN,QAAC,KAAK;MACL,IAAI,EAAEP,IAAK;MACX,OAAO,EAAEwB,iBAAkB;MAC3B,mBAAgB,mBAAmB;MACnC,oBAAiB,yBAAyB;MAAA,uBAE1C;QAAK,SAAS,EAAC,aAAa;QAAA,uBAC3B;UAAM,QAAQ,EAAEA,iBAAkB;UAAC,SAAS,EAAC,YAAY;UAAA,wBACxD;YACC,SAAS,EAAC,aAAa;YACvB,EAAE,EAAC,aAAa;YAChB,IAAI,EAAC,aAAa;YAClB,KAAK,EAAEpB,kBAAmB;YAC1B,QAAQ,EAAGK,CAAC,IAAKJ,qBAAqB,CAACI,CAAC,CAACmB,MAAM,CAACC,KAAK;UAAE;YAAA;YAAA;YAAA;UAAA,QACtD,eACF;YAAK,SAAS,EAAC,eAAe;YAAA,wBAC7B;cACC,IAAI,EAAC,QAAQ;cACb,SAAS,EAAC,mCAAmC;cAC7C,OAAO,EAAE1B,WAAY;cAAA,UACrB;YAED;cAAA;cAAA;cAAA;YAAA,QAAS,eAET;cACC,IAAI,EAAC,QAAQ;cACb,SAAS,EAAC,mCAAmC;cAC7C,OAAO,EAAEqB,iBAAkB;cAAA,UAC3B;YAED;cAAA;cAAA;cAAA;YAAA,QAAS;UAAA;YAAA;YAAA;YAAA;UAAA,QACJ;QAAA;UAAA;UAAA;UAAA;QAAA;MACA;QAAA;QAAA;QAAA;MAAA;IACF;MAAA;MAAA;MAAA;IAAA,QACC;EAAA,GA9CqBzB,KAAK,CAACmB,KAAK;IAAA;IAAA;IAAA;EAAA,QA+CnC;AAER,CAAC;AAAA,GArGKpB,OAAO;AAAA,KAAPA,OAAO;AAsGb,eAAeA,OAAO;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}